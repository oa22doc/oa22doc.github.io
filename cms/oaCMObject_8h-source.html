<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/html40/loose.dtd">

<!-- start header -->

<html><head>

<title>OpenAccess 2.2 API</title>

<link href="../style.css" rel="stylesheet" type="text/css">

<link href="../tabs.css" rel="stylesheet" type="text/css">

<link href="../print.css" rel="stylesheet" type="text/css" media="print">

</head>

<body bgColor='#ffffff'><a name='pagetop'></a>

<div id="navigation">

<table border='0' cellpadding='0' cellspacing='0' width = "760">

  <tr>

    <td><img src="../oaheader.gif" alt="../oaheader.gif"></td>

  </tr>

</table>

<table border='0' cellpadding='0' cellspacing='0' width = "760">

  <tr>

    <td width = "95" height = "30"><a href="../index.html"><img src='../topics.gif' alt='../topics.gif' width = "95" height = "30" border="0" align="top"></a></td>

    <td width = "95" height = "30"><a href="../classes.html"><img src='../classes_all.gif' alt='../classes.gif' width = "95" height = "30" border="0"></a></td>

    <td width = "95" height = "30"><a href="../classes_sel.html"><img src='../classes_sel.gif' alt='../classes.gif' width = "95" height = "30" border="0"></a></td>

    <td width = "95" height = "30" ><a href="../exceptionsByName.html"><img src='../exceptions.gif' alt='../exceptions.gif' border="0" ></a></td>

    <td width = "95" height = "30"><a href="../guide/index.html"><img src='../progguide.gif' alt='../progguide.gif' width = "95" height = "30" border="0"></a></td>

    <td width = "95" height = "30"><a href="../schema/schematoc.html"><img src='../infomodel.gif' alt='../infomodel.gif' width = "95" height = "30" border="0"></a></td>

    <td width = "95" height = "30"><a href="../doc_index.html"><img src='../index.gif' alt='../index.gif' width = "95" height = "30" border="0"></a></td>

    <td width = "95" height = "30"><a href="../help.html"><img src='../help.gif' alt='../help.gif' border="0" ></a></td>

  </tr>

  <tr>

    <td width = "95" height = "20"></td>

    <td width = "95" height = "20"></td>

    <td width = "95" height = "20"></td>

    <td width = "95" height = "20"></td>

    <td width = "95" height = "20"></td>

    <td width = "95" height = "20"></td>

    <td width = "95" height = "20"></td>

    <td width = "95" height = "20"></td>

  </tr>

</table>

</div>

<p>

<!-- end header -->

<!-- Generated by Doxygen 1.3-rc2 -->
<h1>oaCMObject.h</h1><a href="oaCMObject_8h.html">Go to the documentation of this file.</a><div class="fragment"><pre>00001 <span class="comment">// ****************************************************************************</span>
00002 <span class="comment">// ****************************************************************************</span>
00003 <span class="comment">// oaCMObject.h</span>
00004 <span class="comment">//</span>
00005 <span class="comment">// This file contains the definition of the object references and object entry</span>
00006 <span class="comment">// classes which are used in the CMS system, as well as their containers and</span>
00007 <span class="comment">// visitors.</span>
00008 <span class="comment">//</span>
00009 <span class="comment">//  oaCMStringEntry</span>
00010 <span class="comment">//      This class represents an entry in the string table. Each entry object</span>
00011 <span class="comment">//      contains a string.</span>
00012 <span class="comment">//</span>
00013 <span class="comment">//  oaCMObjectStateEntry</span>
00014 <span class="comment">//      This class represents an entry in the object state table. Each entry</span>
00015 <span class="comment">//      object contains an object state.</span>
00016 <span class="comment">//</span>
00017 <span class="comment">//  oaCMStringTbl</span>
00018 <span class="comment">//      This class contains string entry objects.</span>
00019 <span class="comment">//</span>
00020 <span class="comment">//  oaCMObjectStateTbl</span>
00021 <span class="comment">//      This class contains object state entry objects.</span>
00022 <span class="comment">//</span>
00023 <span class="comment">//  oaCMObjectRef</span>
00024 <span class="comment">//      This is a object reference which has life-time management</span>
00025 <span class="comment">//      functionality.</span>
00026 <span class="comment">//</span>
00027 <span class="comment">//  oaCMDatabaseRef</span>
00028 <span class="comment">//      This is a object reference in which the object is a database.</span>
00029 <span class="comment">//</span>
00030 <span class="comment">//  oaCMObjectIDRef</span>
00031 <span class="comment">//      This is a object reference in which the object can be identified by</span>
00032 <span class="comment">//      a single attribute, usually a name.</span>
00033 <span class="comment">//</span>
00034 <span class="comment">//  oaCMObjectStateRef</span>
00035 <span class="comment">//      This is a object reference in which the object can be identified by</span>
00036 <span class="comment">//      a state which is a compound --- a collection of attributes and</span>
00037 <span class="comment">//      relationships. These objects do not have a single attribute to identify</span>
00038 <span class="comment">//      them.</span>
00039 <span class="comment">//</span>
00040 <span class="comment">//  oaCMObjectVisitor</span>
00041 <span class="comment">//      oaCMObject classes supports visitor pattern for various actions on</span>
00042 <span class="comment">//      them. This is the interface for the visitor, which is capable of</span>
00043 <span class="comment">//      visiting concrete oaCMObject nodes. It can be derived to define</span>
00044 <span class="comment">//      specific actions.</span>
00045 <span class="comment">//</span>
00046 <span class="comment">// ****************************************************************************</span>
00047 <span class="comment">// Except as specified in the OpenAccess terms of use of Cadence or Silicon</span>
00048 <span class="comment">// Integration Initiative, this material may not be copied, modified,</span>
00049 <span class="comment">// re-published, uploaded, executed, or distributed in any way, in any medium,</span>
00050 <span class="comment">// in whole or in part, without prior written permission from Cadence.</span>
00051 <span class="comment">//</span>
00052 <span class="comment">//                Copyright 2007 Cadence Design Systems, Inc.</span>
00053 <span class="comment">//                           All Rights Reserved.</span>
00054 <span class="comment">//</span>
00055 <span class="comment">//  $Author: priyav</span>
00056 <span class="comment">//  $Revision:</span>
00057 <span class="comment">//  $Date: 2007/04/25</span>
00058 <span class="comment">//  $State:</span>
00059 <span class="comment">// ****************************************************************************</span>
00060 <span class="comment">// ****************************************************************************</span>
00061 
00062 
00063 
00064 <span class="preprocessor">#if !defined(oaCMObject_P)</span>
<a name="l00065"></a><a class="code" href="oaCMObject_8h.html#a0">00065</a> <span class="preprocessor"></span><span class="preprocessor">#define oaCMObject_P</span>
00066 <span class="preprocessor"></span>
00067 
00068 
00069 <span class="comment">// ****************************************************************************</span>
00070 <span class="comment">// Nested includes</span>
00071 <span class="comment">// ****************************************************************************</span>
00072 <span class="preprocessor">#include &lt;list&gt;</span>
00073 <span class="preprocessor">#include &lt;map&gt;</span>
00074 <span class="preprocessor">#include "<a class="code" href="../base/srBase_8h.html">srBase.h</a>"</span>
00075 <span class="preprocessor">#include "<a class="code" href="../base/srVisitor_8h.html">srVisitor.h</a>"</span>
00076 <span class="preprocessor">#include "<a class="code" href="oaCMBaseTypes_8h.html">oaCMBaseTypes.h</a>"</span>
00077 <span class="preprocessor">#include "oaTimeStamp.h"</span>
00078 
00079 
00080 
00081 <span class="comment">// *****************************************************************************</span>
00082 <span class="comment">// Declare and define types in the OpenAccess namespace.</span>
00083 <span class="comment">// *****************************************************************************</span>
00084 BEGIN_OA_NAMESPACE
00085 
00086 
00087 
00088 <span class="comment">// *****************************************************************************</span>
00089 <span class="comment">// Forward Public Class Declarations</span>
00090 <span class="comment">// *****************************************************************************</span>
<a name="l00091"></a><a class="code" href="oaCMObject_8h.html#a1">00091</a> <span class="keyword">class </span><a class="code" href="classoaCMObjectRefTbl.html">oaCMObjectRefTbl</a>;
00092 <span class="keyword">class </span><a class="code" href="classoaCMDatabaseTbl.html">oaCMDatabaseTbl</a>;
00093 <span class="keyword">class </span><a class="code" href="classoaCMStringTbl.html">oaCMStringTbl</a>;
00094 <span class="keyword">class </span><a class="code" href="classoaCMObjectStateTbl.html">oaCMObjectStateTbl</a>;
00095 <span class="keyword">class </span><a class="code" href="classoaCMDatabaseRef.html">oaCMDatabaseRef</a>;
00096 <span class="keyword">class </span><a class="code" href="classoaChangeSetBase.html">oaChangeSetBase</a>;
00097 
00098 
00099 
00100 <span class="comment">// ****************************************************************************</span>
00101 <span class="comment">// oaCMStringEntry</span>
00102 <span class="comment">// ****************************************************************************</span>
<a name="l00103"></a><a class="code" href="classoaCMStringEntry.html">00103</a> <span class="keyword">class </span><a class="code" href="oaCMBaseTypes_8h.html#a1">OA_CM_DLL_API</a> oaCMStringEntry : <span class="keyword">public</span> sr::<a class="code" href="../base/classsrBase.html">srBase</a> {
00104 <span class="keyword">public</span>:
<a name="l00105"></a><a class="code" href="classoaCMStringEntry.html#s0">00105</a>     <span class="keyword">typedef</span> oaCMStringEntry *<a class="code" href="classoaCMStringEntry.html">SPtr</a>;
00106 
00107                             oaCMStringEntry(<span class="keyword">const</span> oaString  &amp;string,
00108                                             <a class="code" href="classoaCMStringTbl.html">oaCMStringTbl</a>   *tbl,
00109                                             oaTimeStamp     timeStamp);
00110     <span class="keyword">virtual</span>                 ~oaCMStringEntry();
00111 
00112     <span class="keyword">const</span> <span class="keywordtype">char</span>              *getString() <span class="keyword">const</span>;
00113     oaTimeStamp             getTimeStamp() <span class="keyword">const</span>;
00114 
00115     <span class="keyword">virtual</span> <span class="keywordtype">void</span>            <a class="code" href="../base/classsrBase.html#srBase::accept">accept</a>(sr::srVisitorMgr &amp;visitor);
00116 
00117 <span class="keyword">private</span>:
00118     <a class="code" href="classoaCMStringTbl.html">oaCMStringTbl</a>           *m_tbl;
00119     oaString                m_string;
00120     oaTimeStamp             m_timeStamp;
00121 };
00122 
00123 
00124 
00125 <span class="comment">// ****************************************************************************</span>
00126 <span class="comment">// oaCMObjectStateEntry</span>
00127 <span class="comment">// ****************************************************************************</span>
<a name="l00128"></a><a class="code" href="classoaCMObjectStateEntry.html">00128</a> <span class="keyword">class </span><a class="code" href="oaCMBaseTypes_8h.html#a1">OA_CM_DLL_API</a> oaCMObjectStateEntry : <span class="keyword">public</span> sr::<a class="code" href="../base/classsrObjectState.html">srObjectState</a> {
00129 <span class="keyword">public</span>:
<a name="l00130"></a><a class="code" href="classoaCMObjectStateEntry.html#s0">00130</a>     <span class="keyword">typedef</span> oaCMObjectStateEntry    *<a class="code" href="classoaCMObjectStateEntry.html">SPtr</a>;
00131 
00132                                     oaCMObjectStateEntry(<span class="keyword">const</span> sd::sdObject     *def,
00133                                                          <span class="keyword">const</span> AttributeMap     &amp;attributes,
00134                                                          <span class="keyword">const</span> RelationshipMap  &amp;relationships,
00135                                                          <a class="code" href="classoaCMObjectStateTbl.html">oaCMObjectStateTbl</a>     *tbl,
00136                                                          oaTimeStamp            timeStamp);
00137     <span class="keyword">virtual</span>                         ~oaCMObjectStateEntry();
00138 
00139     oaTimeStamp                     getTimeStamp() <span class="keyword">const</span>;
00140 
00141 <span class="keyword">private</span>:
00142     <a class="code" href="classoaCMObjectStateTbl.html">oaCMObjectStateTbl</a>              *m_tbl;
00143     oaTimeStamp                     m_timeStamp;
00144 
<a name="l00145"></a><a class="code" href="classoaCMObjectStateEntry.html#l0">00145</a>     <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="classoaCMObjectRef.html">oaCMObjectRef</a>;
00146 };
00147 
00148 
00149 
00150 <span class="comment">// ****************************************************************************</span>
00151 <span class="comment">// oaCMStringTbl</span>
00152 <span class="comment">// ****************************************************************************</span>
<a name="l00153"></a><a class="code" href="classoaCMStringTbl.html">00153</a> <span class="keyword">class </span><a class="code" href="oaCMBaseTypes_8h.html#a1">OA_CM_DLL_API</a> oaCMStringTbl {
00154 <span class="keyword">public</span>:
<a name="l00155"></a><a class="code" href="classoaCMStringTbl.html#s0">00155</a>     <span class="keyword">typedef</span> std::map&lt;std::string, oaCMStringEntry*&gt;::const_iterator StringEntryConstIter;
<a name="l00156"></a><a class="code" href="classoaCMStringTbl.html#s1">00156</a>     <span class="keyword">typedef</span> std::map&lt;std::string, oaCMStringEntry*&gt;::iterator       StringEntryIter;
00157 
00158                                                                     oaCMStringTbl();
00159                                                                     ~oaCMStringTbl();
00160 
00161     StringEntryConstIter                                            begin() <span class="keyword">const</span>;
00162     StringEntryConstIter                                            end() <span class="keyword">const</span>;
00163 
00164     <a class="code" href="classoaCMStringEntry.html">oaCMStringEntry::SPtr</a>                                           find(<span class="keyword">const</span> oaString &amp;str) <span class="keyword">const</span>;
00165 
00166     <span class="keywordtype">void</span>                                                            cleanup(oaTimeStamp timeStamp);
00167 
00168 <span class="keyword">private</span>:
00169     <span class="keywordtype">void</span>                                                            add(oaCMStringEntry *str);
00170     <span class="keywordtype">void</span>                                                            remove(oaCMStringEntry *str);
00171 
00172     std::map&lt;std::string, oaCMStringEntry*&gt;                         m_strings;
00173 
<a name="l00174"></a><a class="code" href="classoaCMStringTbl.html#l0">00174</a>     <span class="keyword">friend</span> <span class="keyword">class </span>oaCMStringEntry;
00175 };
00176 
00177 
00178 
00179 <span class="comment">// ****************************************************************************</span>
00180 <span class="comment">// oaCMObjectStateTbl class</span>
00181 <span class="comment">// ****************************************************************************</span>
<a name="l00182"></a><a class="code" href="classoaCMObjectStateTbl.html">00182</a> <span class="keyword">class </span><a class="code" href="oaCMBaseTypes_8h.html#a1">OA_CM_DLL_API</a> oaCMObjectStateTbl {
00183 <span class="keyword">public</span>:
<a name="l00184"></a><a class="code" href="classoaCMObjectStateTbl.html#s0">00184</a>     <span class="keyword">typedef</span> std::list&lt;oaCMObjectStateEntry*&gt;::const_iterator    ObjectStateEntryConstIter;
<a name="l00185"></a><a class="code" href="classoaCMObjectStateTbl.html#s1">00185</a>     <span class="keyword">typedef</span> std::list&lt;oaCMObjectStateEntry*&gt;::iterator          ObjectStateEntryIter;
00186 
00187                                                                 oaCMObjectStateTbl();
00188                                                                 ~oaCMObjectStateTbl();
00189 
00190     ObjectStateEntryConstIter                                   begin() <span class="keyword">const</span>;
00191     ObjectStateEntryConstIter                                   end() <span class="keyword">const</span>;
00192 
00193     <span class="keywordtype">void</span>                                                        cleanup(oaTimeStamp timeStamp);
00194 
00195 <span class="keyword">private</span>:
00196     <span class="keywordtype">void</span>                                                        add(oaCMObjectStateEntry *state);
00197     <span class="keywordtype">void</span>                                                        remove(oaCMObjectStateEntry *state);
00198 
00199     std::list&lt;oaCMObjectStateEntry*&gt;                            m_states;
00200 
<a name="l00201"></a><a class="code" href="classoaCMObjectStateTbl.html#l0">00201</a>     <span class="keyword">friend</span> <span class="keyword">class </span>oaCMObjectStateEntry;
00202 };
00203 
00204 
00205 
00206 <span class="comment">// ****************************************************************************</span>
00207 <span class="comment">// oaCMObjectRef</span>
00208 <span class="comment">// ****************************************************************************</span>
<a name="l00209"></a><a class="code" href="classoaCMObjectRef.html">00209</a> <span class="keyword">class </span><a class="code" href="oaCMBaseTypes_8h.html#a1">OA_CM_DLL_API</a> oaCMObjectRef : <span class="keyword">public</span> sr::<a class="code" href="../base/classsrObjectRef.html">srObjectRef</a> {
00210 <span class="keyword">public</span>:
<a name="l00211"></a><a class="code" href="classoaCMObjectRef.html#s0">00211</a>     <span class="keyword">typedef</span> oaCMObjectRef   *<a class="code" href="classoaCMObjectRef.html">SPtr</a>;
<a name="l00212"></a><a class="code" href="classoaCMObjectRef.html#s1">00212</a>     <span class="keyword">typedef</span> <a class="code" href="classoaCMDatabaseRef.html">oaCMDatabaseRef</a> *<a class="code" href="classoaCMDatabaseRef.html">DatabaseSPtr</a>;
00213 
00214     <span class="keyword">virtual</span> <span class="keywordtype">void</span>            passivate();
00215     <span class="keyword">virtual</span> <span class="keywordtype">void</span>            activate();
00216 
00217     <span class="keyword">virtual</span> DatabaseSPtr    getDatabase() <span class="keyword">const</span> = 0;
00218 
00219     oaBoolean               isAlive() <span class="keyword">const</span>;
00220     oaBoolean               isNew() <span class="keyword">const</span>;
00221     oaTimeStamp             getTimeStamp() <span class="keyword">const</span>;
00222 
00223     <span class="keywordtype">void</span>                    setIsNew(oaBoolean isNew);
00224 
00225 <span class="keyword">protected</span>:
00226                             oaCMObjectRef(<span class="keyword">const</span> sd::sdObject    *def,
00227                                           <span class="keywordtype">void</span>                  *object,
00228                                           oaTimeStamp           timeStamp,
00229                                           oaBoolean             isNew = <span class="keyword">false</span>);
00230     <span class="keyword">virtual</span>                 ~oaCMObjectRef();
00231 
00232 <span class="keyword">private</span>:
00233                             oaCMObjectRef(<span class="keyword">const</span> oaCMObjectRef &amp;copy);
00234     oaCMObjectRef           &amp;operator=(<span class="keyword">const</span> oaCMObjectRef &amp;rhs);
00235 
00236     oaBoolean               m_alive;
00237     oaBoolean               m_isNew;
00238     oaTimeStamp             m_timeStamp;
00239 
<a name="l00240"></a><a class="code" href="classoaCMObjectRef.html#l0">00240</a>     <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="classoaCMObjectRefTbl.html">oaCMObjectRefTbl</a>;
00241 };
00242 
00243 
00244 
00245 <span class="comment">// ****************************************************************************</span>
00246 <span class="comment">// oaCMDatabaseRef</span>
00247 <span class="comment">// ****************************************************************************</span>
<a name="l00248"></a><a class="code" href="classoaCMDatabaseRef.html">00248</a> <span class="keyword">class </span><a class="code" href="oaCMBaseTypes_8h.html#a1">OA_CM_DLL_API</a> oaCMDatabaseRef : <span class="keyword">public</span> oaCMObjectRef {
00249 <span class="keyword">public</span>:
<a name="l00250"></a><a class="code" href="classoaCMDatabaseRef.html#s0">00250</a>     <span class="keyword">typedef</span> oaCMDatabaseRef         *<a class="code" href="classoaCMDatabaseRef.html">SPtr</a>;
00251 
00252                                     oaCMDatabaseRef(<span class="keyword">const</span> sd::sdObject  *def,
00253                                                     <span class="keywordtype">void</span>                *object,
00254                                                     <a class="code" href="classoaCMDatabaseTbl.html">oaCMDatabaseTbl</a>     *tbl,
00255                                                     oaTimeStamp         timeStamp,
00256                                                     oaBoolean           isNew = <span class="keyword">false</span>);
00257     <span class="keyword">virtual</span>                         ~oaCMDatabaseRef();
00258 
00259     <span class="keyword">virtual</span> <span class="keywordtype">void</span>                    accept(sr::srVisitorMgr &amp;visitor);
00260 
00261     <span class="keyword">virtual</span> <span class="keywordtype">void</span>                    <a class="code" href="classoaCMObjectRef.html#oaCMObjectRef::passivate">passivate</a>();
00262     <span class="keyword">virtual</span> <span class="keywordtype">void</span>                    <a class="code" href="classoaCMObjectRef.html#oaCMObjectRef::activate">activate</a>();
00263 
00264     <span class="keyword">virtual</span> <a class="code" href="classoaCMDatabaseRef.html">oaCMDatabaseRef::SPtr</a>   <a class="code" href="classoaCMObjectRef.html#oaCMObjectRef::getDatabase">getDatabase</a>() <span class="keyword">const</span>;
00265     <a class="code" href="classoaCMObjectStateEntry.html">oaCMObjectStateEntry::SPtr</a>      getState() <span class="keyword">const</span>;
00266 
00267     <span class="keywordtype">void</span>                            setState(<a class="code" href="classoaCMObjectStateEntry.html">oaCMObjectStateEntry::SPtr</a> state);
00268 
00269 <span class="keyword">private</span>:
00270                                     oaCMDatabaseRef(<span class="keyword">const</span> oaCMDatabaseRef &amp;copy);
00271     oaCMDatabaseRef                 &amp;operator=(<span class="keyword">const</span> oaCMDatabaseRef &amp;rhs);
00272 
00273     <a class="code" href="classoaCMDatabaseTbl.html">oaCMDatabaseTbl</a>                 *m_tbl;
00274     <a class="code" href="classoaCMObjectStateEntry.html">oaCMObjectStateEntry::SPtr</a>      m_state;
00275 };
00276 
00277 
00278 
00279 <span class="comment">// ****************************************************************************</span>
00280 <span class="comment">// oaCMObjectIDRef</span>
00281 <span class="comment">// ****************************************************************************</span>
<a name="l00282"></a><a class="code" href="classoaCMObjectIDRef.html">00282</a> <span class="keyword">class </span><a class="code" href="oaCMBaseTypes_8h.html#a1">OA_CM_DLL_API</a> oaCMObjectIDRef : <span class="keyword">public</span> oaCMObjectRef {
00283 <span class="keyword">public</span>:
<a name="l00284"></a><a class="code" href="classoaCMObjectIDRef.html#s0">00284</a>     <span class="keyword">typedef</span> oaCMObjectIDRef         *<a class="code" href="classoaCMObjectIDRef.html">SPtr</a>;
00285 
00286                                     oaCMObjectIDRef(<span class="keyword">const</span> sd::sdObject  *def,
00287                                                     <span class="keywordtype">void</span>                *object,
00288                                                     <a class="code" href="classoaCMObjectRefTbl.html">oaCMObjectRefTbl</a>    *tbl,
00289                                                     oaTimeStamp         timeStamp,
00290                                                     oaBoolean           isNew = <span class="keyword">false</span>,
00291                                                     <a class="code" href="classoaCMObjectRef.html">oaCMObjectRef::SPtr</a> scope = NULL);
00292     <span class="keyword">virtual</span>                         ~oaCMObjectIDRef();
00293 
00294     <span class="keyword">virtual</span> <span class="keywordtype">void</span>                    accept(sr::srVisitorMgr &amp;visitor);
00295 
00296     <span class="keyword">virtual</span> <span class="keywordtype">void</span>                    <a class="code" href="classoaCMObjectRef.html#oaCMObjectRef::passivate">passivate</a>();
00297     <span class="keyword">virtual</span> <span class="keywordtype">void</span>                    <a class="code" href="classoaCMObjectRef.html#oaCMObjectRef::activate">activate</a>();
00298 
00299     <span class="keyword">virtual</span> <a class="code" href="classoaCMDatabaseRef.html">oaCMDatabaseRef::SPtr</a>   <a class="code" href="classoaCMObjectRef.html#oaCMObjectRef::getDatabase">getDatabase</a>() <span class="keyword">const</span>;
00300     <a class="code" href="classoaCMObjectRef.html">oaCMObjectRef::SPtr</a>             getScope() <span class="keyword">const</span>;
00301 
00302     <a class="code" href="classoaCMStringEntry.html">oaCMStringEntry::SPtr</a>           getName() <span class="keyword">const</span>;
00303     <span class="keywordtype">void</span>                            setName(<a class="code" href="classoaCMStringEntry.html">oaCMStringEntry::SPtr</a> name);
00304 
00305 <span class="keyword">private</span>:
00306                                     oaCMObjectIDRef(<span class="keyword">const</span> oaCMObjectIDRef &amp;copy);
00307     oaCMObjectIDRef                 &amp;operator=(<span class="keyword">const</span> oaCMObjectIDRef &amp;rhs);
00308 
00309     <a class="code" href="classoaCMObjectRefTbl.html">oaCMObjectRefTbl</a>                *m_tbl;
00310     <a class="code" href="classoaCMStringEntry.html">oaCMStringEntry::SPtr</a>           m_name;
00311     <a class="code" href="classoaCMObjectRef.html">oaCMObjectRef::SPtr</a>             m_scope;
00312 };
00313 
00314 
00315 
00316 <span class="comment">// ****************************************************************************</span>
00317 <span class="comment">// oaCMObjectStateRef</span>
00318 <span class="comment">// ****************************************************************************</span>
<a name="l00319"></a><a class="code" href="classoaCMObjectStateRef.html">00319</a> <span class="keyword">class </span><a class="code" href="oaCMBaseTypes_8h.html#a1">OA_CM_DLL_API</a> oaCMObjectStateRef : <span class="keyword">public</span> oaCMObjectRef {
00320 <span class="keyword">public</span>:
<a name="l00321"></a><a class="code" href="classoaCMObjectStateRef.html#s0">00321</a>     <span class="keyword">typedef</span> oaCMObjectStateRef      *<a class="code" href="classoaCMObjectStateRef.html">SPtr</a>;
00322 
00323                                     oaCMObjectStateRef(<span class="keyword">const</span> sd::sdObject   *def,
00324                                                        <span class="keywordtype">void</span>                 *object,
00325                                                        <a class="code" href="classoaCMObjectRefTbl.html">oaCMObjectRefTbl</a>     *tbl,
00326                                                        oaTimeStamp          timeStamp,
00327                                                        oaBoolean            isNew = <span class="keyword">false</span>,
00328                                                        <a class="code" href="classoaCMObjectRef.html">oaCMObjectRef::SPtr</a>  scope = NULL);
00329     <span class="keyword">virtual</span>                         ~oaCMObjectStateRef();
00330 
00331     <span class="keyword">virtual</span> <span class="keywordtype">void</span>                    accept(sr::srVisitorMgr &amp;visitor);
00332     <span class="keyword">virtual</span> <span class="keywordtype">void</span>                    <a class="code" href="classoaCMObjectRef.html#oaCMObjectRef::passivate">passivate</a>();
00333     <span class="keyword">virtual</span> <span class="keywordtype">void</span>                    <a class="code" href="classoaCMObjectRef.html#oaCMObjectRef::activate">activate</a>();
00334 
00335     <span class="keyword">virtual</span> <a class="code" href="classoaCMDatabaseRef.html">oaCMDatabaseRef::SPtr</a>   <a class="code" href="classoaCMObjectRef.html#oaCMObjectRef::getDatabase">getDatabase</a>() <span class="keyword">const</span>;
00336     <a class="code" href="classoaCMObjectRef.html">oaCMObjectRef::SPtr</a>             getScope() <span class="keyword">const</span>;
00337 
00338     <a class="code" href="classoaCMObjectStateEntry.html">oaCMObjectStateEntry::SPtr</a>      getState() <span class="keyword">const</span>;
00339     <a class="code" href="classoaCMObjectStateEntry.html">oaCMObjectStateEntry::SPtr</a>      setState(<a class="code" href="classoaCMObjectStateEntry.html">oaCMObjectStateEntry::SPtr</a> state);
00340 
00341 <span class="keyword">private</span>:
00342                                     oaCMObjectStateRef(<span class="keyword">const</span> oaCMObjectStateRef &amp;copy);
00343     oaCMObjectStateRef              &amp;operator=(<span class="keyword">const</span> oaCMObjectStateRef &amp;rhs);
00344 
00345     <a class="code" href="classoaCMObjectRefTbl.html">oaCMObjectRefTbl</a>                *m_tbl;
00346     <a class="code" href="classoaCMObjectStateEntry.html">oaCMObjectStateEntry::SPtr</a>      m_state;
00347     <a class="code" href="classoaCMObjectRef.html">oaCMObjectRef::SPtr</a>             m_scope;
00348 };
00349 
00350 
00351 
00352 <span class="comment">// ****************************************************************************</span>
00353 <span class="comment">// oaCMObjectVisitor</span>
00354 <span class="comment">// ****************************************************************************</span>
<a name="l00355"></a><a class="code" href="classoaCMObjectVisitor.html">00355</a> <span class="keyword">class </span><a class="code" href="oaCMBaseTypes_8h.html#a1">OA_CM_DLL_API</a> oaCMObjectVisitor : <span class="keyword">public</span> <span class="keyword">virtual</span> sr::<a class="code" href="../base/classsrVisitor.html">srVisitor</a> {
00356 <span class="keyword">public</span>:
00357     <span class="keyword">using</span>                   sr::srVisitor::visit;
00358 
00359     <span class="keyword">virtual</span>                 ~oaCMObjectVisitor();
00360 
00361     <span class="keyword">virtual</span> <span class="keywordtype">void</span>            <a class="code" href="../base/classsrVisitor.html#a1">visit</a>(oaCMObjectIDRef *node) = 0;
00362     <span class="keyword">virtual</span> <span class="keywordtype">void</span>            <a class="code" href="../base/classsrVisitor.html#a1">visit</a>(oaCMDatabaseRef *node) = 0;
00363     <span class="keyword">virtual</span> <span class="keywordtype">void</span>            <a class="code" href="../base/classsrVisitor.html#a1">visit</a>(oaCMObjectStateRef *node) = 0;
00364 };
00365 
00366 
00367 
00368 <span class="comment">// ****************************************************************************</span>
00369 <span class="comment">// oaCMDatabaseTbl</span>
00370 <span class="comment">// ****************************************************************************</span>
<a name="l00371"></a><a class="code" href="classoaCMDatabaseTbl.html">00371</a> <span class="keyword">class </span><a class="code" href="oaCMBaseTypes_8h.html#a1">OA_CM_DLL_API</a> oaCMDatabaseTbl {
00372 <span class="keyword">public</span>:
<a name="l00373"></a><a class="code" href="classoaCMDatabaseTbl.html#s0">00373</a>     <span class="keyword">typedef</span> std::list&lt;oaCMDatabaseRef*&gt;::const_iterator         DatabaseRefConstIter;
<a name="l00374"></a><a class="code" href="classoaCMDatabaseTbl.html#s1">00374</a>     <span class="keyword">typedef</span> std::list&lt;oaCMDatabaseRef*&gt;::iterator               DatabaseRefIter;
00375 
00376                                                                 oaCMDatabaseTbl();
00377     <span class="keyword">virtual</span>                                                     ~oaCMDatabaseTbl();
00378 
00379     <a class="code" href="classoaCMDatabaseRef.html">oaCMDatabaseRef::SPtr</a>                                       find(<span class="keywordtype">void</span> *database) <span class="keyword">const</span>;
00380 
00381     <span class="keywordtype">void</span>                                                        onPassivate(<a class="code" href="classoaCMDatabaseRef.html">oaCMDatabaseRef::SPtr</a> ref);
00382     <span class="keywordtype">void</span>                                                        onActivate(<a class="code" href="classoaCMDatabaseRef.html">oaCMDatabaseRef::SPtr</a> ref);
00383 
00384     DatabaseRefConstIter                                        begin() <span class="keyword">const</span>;
00385     DatabaseRefConstIter                                        end() <span class="keyword">const</span>;
00386 
00387 <span class="keyword">private</span>:
00388     <span class="keywordtype">void</span>                                                        add(oaCMDatabaseRef *ref);
00389     <span class="keywordtype">void</span>                                                        remove(oaCMDatabaseRef *ref);
00390 
00391     <span class="keyword">typedef</span> std::map&lt;void*, oaCMDatabaseRef*&gt;::const_iterator   MapConstIter;
00392 
00393     std::map&lt;void*, oaCMDatabaseRef*&gt;                           m_activeDatabases;
00394     std::list&lt;oaCMDatabaseRef*&gt;                                 m_allDatabases;
00395 
<a name="l00396"></a><a class="code" href="classoaCMDatabaseTbl.html#l0">00396</a>     <span class="keyword">friend</span> <span class="keyword">class </span>oaCMDatabaseRef;
00397 };
00398 
00399 
00400 
00401 <span class="comment">// ****************************************************************************</span>
00402 <span class="comment">// oaCMObjectRefTbl</span>
00403 <span class="comment">// ****************************************************************************</span>
<a name="l00404"></a><a class="code" href="classoaCMObjectRefTbl.html">00404</a> <span class="keyword">class </span><a class="code" href="oaCMBaseTypes_8h.html#a1">OA_CM_DLL_API</a> <a class="code" href="oaCMObject_8h.html#a1">oaCMObjectRefTbl</a> {
00405 <span class="keyword">public</span>:
<a name="l00406"></a><a class="code" href="classoaCMObjectRefTbl.html#s0">00406</a>     <span class="keyword">typedef</span> std::list&lt;oaCMObjectRef*&gt;::const_iterator       ObjectRefConstIter;
<a name="l00407"></a><a class="code" href="classoaCMObjectRefTbl.html#s1">00407</a>     <span class="keyword">typedef</span> std::list&lt;oaCMObjectRef*&gt;::iterator             ObjectRefIter;
00408 
00409                                                             <a class="code" href="oaCMObject_8h.html#a1">oaCMObjectRefTbl</a>(<a class="code" href="classoaCMDatabaseRef.html">oaCMDatabaseRef::SPtr</a> database);
00410                                                             ~<a class="code" href="oaCMObject_8h.html#a1">oaCMObjectRefTbl</a>();
00411 
00412     <a class="code" href="classoaCMObjectRef.html">oaCMObjectRef::SPtr</a>                                     find(<span class="keywordtype">void</span> *obj) <span class="keyword">const</span>;
00413 
00414     <span class="keywordtype">void</span>                                                    onPassivate(<a class="code" href="classoaCMObjectRef.html">oaCMObjectRef::SPtr</a> ref);
00415     <span class="keywordtype">void</span>                                                    onActivate(<a class="code" href="classoaCMObjectRef.html">oaCMObjectRef::SPtr</a> ref);
00416 
00417     <a class="code" href="classoaCMDatabaseRef.html">oaCMDatabaseRef::SPtr</a>                                   getDatabase() <span class="keyword">const</span>;
00418 
00419     ObjectRefConstIter                                      begin() <span class="keyword">const</span>;
00420     ObjectRefConstIter                                      end() <span class="keyword">const</span>;
00421 
00422     <span class="keywordtype">void</span>                                                    cleanup(oaTimeStamp timeStamp);
00423 
00424 <span class="keyword">private</span>:
00425     <span class="keyword">typedef</span> std::map&lt;void*, oaCMObjectRef*&gt;::const_iterator MapConstIter;
00426 
00427     <span class="keywordtype">void</span>                                                    add(oaCMObjectRef *ref);
00428     <span class="keywordtype">void</span>                                                    remove(oaCMObjectRef *ref);
00429 
00430     oaCMDatabaseRef                                         *m_database;
00431     std::map&lt;void*, oaCMObjectRef*&gt;                         m_activeRefs;
00432     std::list&lt;oaCMObjectRef*&gt;                               m_allRefs;
00433 
<a name="l00434"></a><a class="code" href="classoaCMObjectRefTbl.html#l0">00434</a>     <span class="keyword">friend</span> <span class="keyword">class </span>oaCMObjectIDRef;
<a name="l00435"></a><a class="code" href="classoaCMObjectRefTbl.html#l1">00435</a>     <span class="keyword">friend</span> <span class="keyword">class </span>oaCMObjectStateRef;
00436 };
00437 
00438 
00439 
00440 END_OA_NAMESPACE
00441 
00442 <span class="preprocessor">#endif</span>
</pre></div><p class="noprint"><a href="#pagetop">Return to top of page</a></p>
<div style="text-align:center">
<br /><img src='../oafooter.gif'><br />

</div>
<br />
<p class='copyright'><a href="../base/titlecopy.html">Copyright &#169; 2002 - 2010 Cadence Design Systems, Inc.</a>
<br />
All Rights Reserved.</p>
</body>
</html>
