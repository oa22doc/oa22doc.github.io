<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/html40/loose.dtd">

<!-- start header -->

<html><head>

<title>oaCMDatabaseRef Class Reference</title>
<link href="../style.css" rel="stylesheet" type="text/css">

<link href="../tabs.css" rel="stylesheet" type="text/css">

<link href="../print.css" rel="stylesheet" type="text/css" media="print">

</head>

<body bgColor='#ffffff'><a name='pagetop'></a>

<div id="navigation">

<table border='0' cellpadding='0' cellspacing='0' width = "760">

  <tr>

    <td><img src="../oaheader.gif" alt="../oaheader.gif"></td>

  </tr>

</table>

<table border='0' cellpadding='0' cellspacing='0' width = "760">

  <tr>

    <td width = "95" height = "30"><a href="../index.html"><img src='../topics.gif' alt='../topics.gif' width = "95" height = "30" border="0" align="top"></a></td>

    <td width = "95" height = "30"><a href="../classes.html"><img src='../classes_all.gif' alt='../classes.gif' width = "95" height = "30" border="0"></a></td>

    <td width = "95" height = "30"><a href="../classes_sel.html"><img src='../classes_sel.gif' alt='../classes.gif' width = "95" height = "30" border="0"></a></td>

    <td width = "95" height = "30" ><a href="../exceptionsByName.html"><img src='../exceptions.gif' alt='../exceptions.gif' border="0" ></a></td>

    <td width = "95" height = "30"><a href="../guide/index.html"><img src='../progguide.gif' alt='../progguide.gif' width = "95" height = "30" border="0"></a></td>

    <td width = "95" height = "30"><a href="../schema/schematoc.html"><img src='../infomodel.gif' alt='../infomodel.gif' width = "95" height = "30" border="0"></a></td>

    <td width = "95" height = "30"><a href="../doc_index.html"><img src='../index.gif' alt='../index.gif' width = "95" height = "30" border="0"></a></td>

    <td width = "95" height = "30"><a href="../help.html"><img src='../help.gif' alt='../help.gif' border="0" ></a></td>

  </tr>

  <tr>

    <td width = "95" height = "20"></td>

    <td width = "95" height = "20"></td>

    <td width = "95" height = "20"></td>

    <td width = "95" height = "20"></td>

    <td width = "95" height = "20"></td>

    <td width = "95" height = "20"></td>

    <td width = "95" height = "20"></td>

    <td width = "95" height = "20"></td>

  </tr>

</table>

</div>

<p>

<!-- end header -->

<!-- Generated by Doxygen 1.3-rc2 -->
<h1>oaCMDatabaseRef Class Reference</h1><p>Inheritance diagram for oaCMDatabaseRef:
<p><center><img src="classoaCMDatabaseRef.png" usemap="#oaCMDatabaseRef_map" border="0" alt=""></center>
<map name="oaCMDatabaseRef_map">
<area href="classoaCMObjectRef.html" alt="oaCMObjectRef" shape="rect" coords="0,0,118,24">
</map>
<p> </p> 
<table cellspacing="0" cellpadding="1" border="0" bordercolor="#ffffff"> 
<tr bgcolor="#000099"> 
<td> <a href="classoaCMDatabaseRef-members.html"><img src="../members.gif" border="0"></a></td>
</tr>
</table>
<table border=0 cellpadding=0 cellspacing=0>
<tr><td></td></tr>
<tr><td colspan=2><br><h2>Public Methods</h2></td></tr>
<tr><td nowrap align=right valign=top>&nbsp;</td><td valign=bottom><a class="el" href="classoaCMDatabaseRef.html#oaCMDatabaseRef::oaCMDatabaseRef">oaCMDatabaseRef</a> (const <a class="el" href="../base/sdAttribute_8h.html#a3">sd::sdObject</a> *def, void *object, <a class="el" href="classoaCMDatabaseTbl.html">oaCMDatabaseTbl</a> *tbl, oaTimeStamp timeStamp, oaBoolean isNew=false)</td></tr>
<tr><td nowrap align=right valign=top>virtual&nbsp;</td><td valign=bottom><a class="el" href="classoaCMDatabaseRef.html#oaCMDatabaseRef::~oaCMDatabaseRef">~oaCMDatabaseRef</a> ()</td></tr>
<tr><td nowrap align=right valign=top>virtual void&nbsp;</td><td valign=bottom><a class="el" href="classoaCMDatabaseRef.html#oaCMDatabaseRef::accept">accept</a> (<a class="el" href="../base/srBase_8h.html#a1">sr::srVisitorMgr</a> &amp;visitor)</td></tr>
<tr><td nowrap align=right valign=top>virtual void&nbsp;</td><td valign=bottom><a class="el" href="classoaCMDatabaseRef.html#oaCMDatabaseRef::passivate">passivate</a> ()</td></tr>
<tr><td nowrap align=right valign=top>virtual void&nbsp;</td><td valign=bottom><a class="el" href="classoaCMDatabaseRef.html#oaCMDatabaseRef::activate">activate</a> ()</td></tr>
<tr><td nowrap align=right valign=top>virtual <a class="el" href="classoaCMDatabaseRef.html">oaCMDatabaseRef::SPtr</a>&nbsp;</td><td valign=bottom><a class="el" href="classoaCMDatabaseRef.html#oaCMDatabaseRef::getDatabase">getDatabase</a> () const</td></tr>
<tr><td nowrap align=right valign=top><a class="el" href="classoaCMObjectStateEntry.html">oaCMObjectStateEntry::SPtr</a>&nbsp;</td><td valign=bottom><a class="el" href="classoaCMDatabaseRef.html#oaCMDatabaseRef::getState">getState</a> () const</td></tr>
<tr><td nowrap align=right valign=top>void&nbsp;</td><td valign=bottom><a class="el" href="classoaCMDatabaseRef.html#oaCMDatabaseRef::setState">setState</a> (<a class="el" href="classoaCMObjectStateEntry.html">oaCMObjectStateEntry::SPtr</a> state)</td></tr>
<tr><td colspan=2><br><h2>Public Types</h2></td></tr>
<tr><td nowrap align=right valign=top>typedef oaCMDatabaseRef *&nbsp;</td><td valign=bottom><a class="el" href="classoaCMDatabaseRef.html#s0">SPtr</a></td></tr>
</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
The <a class="el" href="classoaCMObjectRef.html">oaCMObjectRef</a> and its derived classes add lifecycle management to schema representation (sr) object references, and are used in the OpenAccess <a href="../guide/cms.html">Change Management System (CMS)</a>.
<p>
An oaCMDatabaseRef is an object reference in which the object is a database. oaCMDatabaseRefs are managed by oaChangeSets.
<p>
When an oaCMDatabaseRef is created, it is immediately externalized. A string representation of its identifying state is stored with it. If the live object is destroyed, the oaCMDatabaseRef corresponding to the destroyed object is passivated by setting a boolean flag to indicate that the object pointer is invalid. If an undo operation recreates the live object that was destroyed, the oaCMDatabaseRef can be activated by resetting the boolean flag.
<p>
The oaCMDatabaseRef class supports a visitor design pattern interface, which uses a dual dispatch technique. The oaCMDatabaseRef class has an accept method, which provides access to a visitor. The visitor can then execute its behavior for that element. 
<p>
<hr><h2>Member Typedef Documentation</h2>
<a name="s0" doxytag="oaCMDatabaseRef::SPtr"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> <b>typedef oaCMDatabaseRef* oaCMDatabaseRef::SPtr</b>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Reimplemented from <a class="el" href="classoaCMObjectRef.html#s0">oaCMObjectRef</a>.    </td>
  </tr>
</table>
<hr><h2>Constructor &amp; Destructor Documentation</h2>
<a name="oaCMDatabaseRef::oaCMDatabaseRef" doxytag="oaCMDatabaseRef::oaCMDatabaseRef"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> <b>oaCMDatabaseRef::oaCMDatabaseRef</b> </td>
          <td class="md" valign="top"><b>(&nbsp;</b></td>
          <td class="md" nowrap valign="top"><b>const <a class="el" href="../base/sdAttribute_8h.html#a3">sd::sdObject</a> *</b>&nbsp;</td>
          <td class="mdname" nowrap>&nbsp;<b> <em>def</em>, </b></td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap><b>void *</b>&nbsp;</td>
          <td class="mdname" nowrap>&nbsp;<b> <em>object</em>, </b></td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap><b><a class="el" href="classoaCMDatabaseTbl.html">oaCMDatabaseTbl</a> *</b>&nbsp;</td>
          <td class="mdname" nowrap>&nbsp;<b> <em>tbl</em>, </b></td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap><b>oaTimeStamp</b>&nbsp;</td>
          <td class="mdname" nowrap>&nbsp;<b> <em>timeStamp</em>, </b></td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap><b>oaBoolean</b>&nbsp;</td>
          <td class="mdname" nowrap>&nbsp;<b> <em>isNew</em> = false</td>
        </tr>
        <tr>
          <td></td>
          <td class="md"><b> )&nbsp;</b></td>
          <td class="md" colspan="2"><b></b></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
This function is the oaCMDatabaseRef constructor.
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign=top><em>def</em>&nbsp;</td><td>A pointer to the schema definition object.</td></tr>
    <tr><td valign=top><em>object</em>&nbsp;</td><td>A pointer to the database object.</td></tr>
    <tr><td valign=top><em>tbl</em>&nbsp;</td><td>A pointer to the table containing state identifiers for all the referenced databases in the change set.</td></tr>
    <tr><td valign=top><em>timeStamp</em>&nbsp;</td><td>The timestamp indicating when this object was created.</td></tr>
    <tr><td valign=top><em>isNew</em>&nbsp;</td><td>This parameter is not currently used. </td></tr>
  </table>
</dl>
    </td>
  </tr>
</table>
<a name="oaCMDatabaseRef::~oaCMDatabaseRef" doxytag="oaCMDatabaseRef::~oaCMDatabaseRef"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> <b>oaCMDatabaseRef::~oaCMDatabaseRef</b> </td>
          <td class="md" valign="top"><b>(&nbsp;</b></td>
          <td class="mdname1" valign="top" nowrap>&nbsp;          </td>
          <td class="md" valign="top"><b>)&nbsp;<b></td>
          <td class="md" nowrap><b></b><code><b> [virtual]</b></code></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
This function is the oaCMDatabaseRef destructor.     </td>
  </tr>
</table>
<hr><h2>Member Function Documentation</h2>
<a name="oaCMDatabaseRef::accept" doxytag="oaCMDatabaseRef::accept"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> <b>void oaCMDatabaseRef::accept</b> </td>
          <td class="md" valign="top"><b>(&nbsp;</b></td>
          <td class="md" nowrap valign="top"><b><a class="el" href="../base/srBase_8h.html#a1">sr::srVisitorMgr</a> &amp;</b>&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>&nbsp;<b> <em>visitor</em>          </td>
          <td class="md" valign="top"><b>)&nbsp;<b></td>
          <td class="md" nowrap><b></b><code><b> [virtual]</b></code></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
This function accepts an <a class="el" href="../base/classsrVisitorMgr.html">srVisitorMgr</a> visitor. It calls the visit function of the specified <em>visitor</em> on this object.
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign=top><em>visitor</em>&nbsp;</td><td>The visitor to call on this object</td></tr>
  </table>
</dl>

<p>
    </td>
  </tr>
</table>
<a name="oaCMDatabaseRef::activate" doxytag="oaCMDatabaseRef::activate"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> <b>void oaCMDatabaseRef::activate</b> </td>
          <td class="md" valign="top"><b>(&nbsp;</b></td>
          <td class="mdname1" valign="top" nowrap>&nbsp;          </td>
          <td class="md" valign="top"><b>)&nbsp;<b></td>
          <td class="md" nowrap><b></b><code><b> [virtual]</b></code></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
This function resets a boolean flag on the oaCMDatabaseRef to indicate that the corresponding live object for this reference has been recreated (due to an undo operation after the live object was destroyed).
<p>

<p>
Reimplemented from <a class="el" href="classoaCMObjectRef.html#oaCMObjectRef::activate">oaCMObjectRef</a>.    </td>
  </tr>
</table>
<a name="oaCMDatabaseRef::getDatabase" doxytag="oaCMDatabaseRef::getDatabase"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> <b><a class="el" href="classoaCMDatabaseRef.html">oaCMDatabaseRef::SPtr</a> oaCMDatabaseRef::getDatabase</b> </td>
          <td class="md" valign="top"><b>(&nbsp;</b></td>
          <td class="mdname1" valign="top" nowrap>&nbsp;          </td>
          <td class="md" valign="top"><b>)&nbsp;<b></td>
          <td class="md" nowrap><b> const</b><code><b> [virtual]</b></code></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
This function returns a smart pointer to the database for this oaCMDatabaseRef.
<p>

<p>
Implements <a class="el" href="classoaCMObjectRef.html#oaCMObjectRef::getDatabase">oaCMObjectRef</a>.    </td>
  </tr>
</table>
<a name="oaCMDatabaseRef::getState" doxytag="oaCMDatabaseRef::getState"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> <b>const <a class="el" href="classoaCMObjectStateEntry.html">oaCMObjectStateEntry::SPtr</a> oaCMDatabaseRef::getState</b> </td>
          <td class="md" valign="top"><b>(&nbsp;</b></td>
          <td class="mdname1" valign="top" nowrap>&nbsp;          </td>
          <td class="md" valign="top"><b>)&nbsp;<b></td>
          <td class="md" nowrap><b> const</b></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
This function returns the <a class="el" href="classoaCMObjectStateTbl.html">oaCMObjectStateTbl</a> entry for this oaCMDatabaseRef.
<p>
    </td>
  </tr>
</table>
<a name="oaCMDatabaseRef::passivate" doxytag="oaCMDatabaseRef::passivate"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> <b>void oaCMDatabaseRef::passivate</b> </td>
          <td class="md" valign="top"><b>(&nbsp;</b></td>
          <td class="mdname1" valign="top" nowrap>&nbsp;          </td>
          <td class="md" valign="top"><b>)&nbsp;<b></td>
          <td class="md" nowrap><b></b><code><b> [virtual]</b></code></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
This function sets a boolean flag on the oaCMDatabaseRef to indicate that the corresponding live object for this reference has been destroyed.
<p>

<p>
Reimplemented from <a class="el" href="classoaCMObjectRef.html#oaCMObjectRef::passivate">oaCMObjectRef</a>.    </td>
  </tr>
</table>
<a name="oaCMDatabaseRef::setState" doxytag="oaCMDatabaseRef::setState"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> <b>void oaCMDatabaseRef::setState</b> </td>
          <td class="md" valign="top"><b>(&nbsp;</b></td>
          <td class="md" nowrap valign="top"><b><a class="el" href="classoaCMObjectStateEntry.html">oaCMObjectStateEntry::SPtr</a></b>&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>&nbsp;<b> <em>state</em>          </td>
          <td class="md" valign="top"><b>)&nbsp;<b></td>
          <td class="md" nowrap><b></b></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
This function sets the state for an oaCMDatabaseRef. The state describes an OpenAccess object that is identified by a compound state rather than a unique identifier.
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign=top><em>state</em>&nbsp;</td><td>The state to which to set the oaCMDatabaseRef.</td></tr>
  </table>
</dl>

<p>
    </td>
  </tr>
</table>
<hr>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="oaCMObject_8h-source.html">oaCMObject.h</a><li><a class="el" href="oaCMObject_8dox.html">oaCMObject.dox</a></ul>
<p class="noprint"><a href="#pagetop">Return to top of page</a></p>
<div style="text-align:center">
<br /><img src='../oafooter.gif'><br />

</div>
<br />
<p class='copyright'><a href="../base/titlecopy.html">Copyright &#169; 2002 - 2010 Cadence Design Systems, Inc.</a>
<br />
All Rights Reserved.</p>
</body>
</html>
