<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/html40/loose.dtd">

<!-- start header -->

<html><head>

<title>oaShapeQuery Class Reference</title>
<link href="../style.css" rel="stylesheet" type="text/css">

<link href="../tabs.css" rel="stylesheet" type="text/css">

<link href="../print.css" rel="stylesheet" type="text/css" media="print">

</head>

<body bgColor='#ffffff'><a name='pagetop'></a>

<div id="navigation">

<table border='0' cellpadding='0' cellspacing='0' width = "760">

  <tr>

    <td><img src="../oaheader.gif" alt="../oaheader.gif"></td>

  </tr>

</table>

<table border='0' cellpadding='0' cellspacing='0' width = "760">

  <tr>

    <td width = "95" height = "30"><a href="../index.html"><img src='../topics.gif' alt='../topics.gif' width = "95" height = "30" border="0" align="top"></a></td>

    <td width = "95" height = "30"><a href="../classes.html"><img src='../classes_all.gif' alt='../classes.gif' width = "95" height = "30" border="0"></a></td>

    <td width = "95" height = "30"><a href="../classes_sel.html"><img src='../classes_sel.gif' alt='../classes.gif' width = "95" height = "30" border="0"></a></td>

    <td width = "95" height = "30" ><a href="../exceptionsByName.html"><img src='../exceptions.gif' alt='../exceptions.gif' border="0" ></a></td>

    <td width = "95" height = "30"><a href="../guide/index.html"><img src='../progguide.gif' alt='../progguide.gif' width = "95" height = "30" border="0"></a></td>

    <td width = "95" height = "30"><a href="../schema/schematoc.html"><img src='../infomodel.gif' alt='../infomodel.gif' width = "95" height = "30" border="0"></a></td>

    <td width = "95" height = "30"><a href="../doc_index.html"><img src='../index.gif' alt='../index.gif' width = "95" height = "30" border="0"></a></td>

    <td width = "95" height = "30"><a href="../help.html"><img src='../help.gif' alt='../help.gif' border="0" ></a></td>

  </tr>

  <tr>

    <td width = "95" height = "20"></td>

    <td width = "95" height = "20"></td>

    <td width = "95" height = "20"></td>

    <td width = "95" height = "20"></td>

    <td width = "95" height = "20"></td>

    <td width = "95" height = "20"></td>

    <td width = "95" height = "20"></td>

    <td width = "95" height = "20"></td>

  </tr>

</table>

</div>

<p>

<!-- end header -->

<!-- Generated by Doxygen 1.3-rc2 -->
<h1>oaShapeQuery Class Reference</h1><p>Inheritance diagram for oaShapeQuery:
<p><center><img src="classoaShapeQuery.png" usemap="#oaShapeQuery_map" border="0" alt=""></center>
<map name="oaShapeQuery_map">
<area href="classoaRegionQuery.html" alt="oaRegionQuery" shape="rect" coords="0,0,101,24">
</map>
<p> </p> 
<table cellspacing="0" cellpadding="1" border="0" bordercolor="#ffffff"> 
<tr bgcolor="#000099"> 
<td> <a href="classoaShapeQuery-members.html"><img src="../members.gif" border="0"></a></td>
</tr>
</table>
<table border=0 cellpadding=0 cellspacing=0>
<tr><td></td></tr>
<tr><td colspan=2><br><h2>Public Methods</h2></td></tr>
<tr><td nowrap align=right valign=top>&nbsp;</td><td valign=bottom><a class="el" href="classoaShapeQuery.html#a0">oaShapeQuery</a> ()</td></tr>
<tr><td nowrap align=right valign=top><a class="el" href="../tech/oaTechDBTypes_8h.html#a6">oaLayerNum</a>&nbsp;</td><td valign=bottom><a class="el" href="classoaShapeQuery.html#a1">getLayerNum</a> () const</td></tr>
<tr><td nowrap align=right valign=top><a class="el" href="../tech/oaTechDBTypes_8h.html#a7">oaPurposeNum</a>&nbsp;</td><td valign=bottom><a class="el" href="classoaShapeQuery.html#a2">getPurposeNum</a> () const</td></tr>
<tr><td nowrap align=right valign=top>void&nbsp;</td><td valign=bottom><a class="el" href="classoaShapeQuery.html#a3">query</a> (<a class="el" href="classoaDesign.html">oaDesign</a> *topDesign, <a class="el" href="../tech/oaTechDBTypes_8h.html#a6">oaLayerNum</a> layerNum, <a class="el" href="../tech/oaTechDBTypes_8h.html#a7">oaPurposeNum</a> purposeNum, const <a class="el" href="../base/classoaBox.html">oaBox</a> &amp;region, <a class="el" href="../base/oaBaseTypes_8h.html#a29">oaDist</a> filterSize=0, <a class="el" href="../common/oaCommonTypes_8h.html#a15">oaUInt4</a> startLevel=0, <a class="el" href="../common/oaCommonTypes_8h.html#a15">oaUInt4</a> stopLevel=100)</td></tr>
<tr><td nowrap align=right valign=top>void&nbsp;</td><td valign=bottom><a class="el" href="classoaShapeQuery.html#a4">query</a> (<a class="el" href="classoaDesign.html">oaDesign</a> *topDesign, <a class="el" href="../tech/oaTechDBTypes_8h.html#a6">oaLayerNum</a> layerNum, <a class="el" href="../tech/oaTechDBTypes_8h.html#a7">oaPurposeNum</a> purposeNum, const <a class="el" href="../base/classoaBox.html">oaBox</a> &amp;region, const <a class="el" href="../base/classoaTransform.html">oaTransform</a> &amp;xform, <a class="el" href="../base/oaBaseTypes_8h.html#a29">oaDist</a> filterSize=0, <a class="el" href="../common/oaCommonTypes_8h.html#a15">oaUInt4</a> startLevel=0, <a class="el" href="../common/oaCommonTypes_8h.html#a15">oaUInt4</a> stopLevel=100)</td></tr>
<tr><td nowrap align=right valign=top><a class="el" href="classoaOccShape.html">oaOccShape</a> *&nbsp;</td><td valign=bottom><a class="el" href="classoaShapeQuery.html#a5">getOccShape</a> (<a class="el" href="classoaShape.html">oaShape</a> *shape) const</td></tr>
<tr><td nowrap align=right valign=top>virtual void&nbsp;</td><td valign=bottom><a class="el" href="classoaShapeQuery.html#a6">queryShape</a> (<a class="el" href="classoaShape.html">oaShape</a> *shape)=0</td></tr>
</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
The oaShapeQuery is used to examine and return shapes in oaVias and oaDesigns. Note that stepping into a Via counts as a level of hierarchy. Hence to use oaShapeQuery to find the pin shapes in the master for an instTerm, the query should descend two levels: the first level descends to the master, and the second level will be traversed if the pin contains an <a class="el" href="classoaVia.html">oaVia</a>.
<p>
The sequence of virtual functions that get called during the query is as follows. <ul>
<li>
<a class="el" href="classoaShapeQuery.html#a6">oaShapeQuery::queryShape(oaShape *shape)</a> - For shapes in a design </li>
<li>
<a class="el" href="classoaRegionQuery.html#a10">oaRegionQuery::startRef(oaRef	*ref, oaUInt4 row, oaUInt4 col)</a> </li>
<li>
<a class="el" href="classoaShapeQuery.html#a6">oaShapeQuery::queryShape(oaShape *shape)</a> - For shapes in the <a class="el" href="classoaRef.html">oaRef</a> that is being processed. </li>
<li>
<a class="el" href="classoaRegionQuery.html#a11">oaRegionQuery::endRef(oaRef	*ref, oaUInt4 row, oaUInt4 col)</a> </li>
</ul>

<p>
The query descends the hierachy of an <a class="el" href="classoaRef.html">oaRef</a>, if the maximum dimension of the ref's master is The query descends the hierarchy of an <a class="el" href="classoaRef.html">oaRef</a>, if the maximum dimension of the ref's master is The query descends the hierarchy of an <a class="el" href="classoaRef.html">oaRef</a> if the maximum dimension of the ref's master is larger than the filter size of the query and if the startRef function call returns true for that ref. If then produces shapes recursively in its hierarchy. endRef function for an <a class="el" href="classoaRef.html">oaRef</a> gets called if the query descends into its hierarchy. See documentation on startRef and endRef for additional information. 
<p>
<hr><h2>Constructor &amp; Destructor Documentation</h2>
<a name="a0" doxytag="oaShapeQuery::oaShapeQuery"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> <b>oaShapeQuery::oaShapeQuery</b> </td>
          <td class="md" valign="top"><b>(&nbsp;</b></td>
          <td class="mdname1" valign="top" nowrap>&nbsp;          </td>
          <td class="md" valign="top"><b>)&nbsp;<b></td>
          <td class="md" nowrap><b></b></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
This is the constructor for the oaShapeQuery class.     </td>
  </tr>
</table>
<hr><h2>Member Function Documentation</h2>
<a name="a1" doxytag="oaShapeQuery::getLayerNum"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> <b><a class="el" href="../tech/oaTechDBTypes_8h.html#a6">oaLayerNum</a> oaShapeQuery::getLayerNum</b> </td>
          <td class="md" valign="top"><b>(&nbsp;</b></td>
          <td class="mdname1" valign="top" nowrap>&nbsp;          </td>
          <td class="md" valign="top"><b>)&nbsp;<b></td>
          <td class="md" nowrap><b> const</b></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
This function returns the layer number associated with this shape query.     </td>
  </tr>
</table>
<a name="a5" doxytag="oaShapeQuery::getOccShape"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> <b><a class="el" href="classoaOccShape.html">oaOccShape</a> * oaShapeQuery::getOccShape</b> </td>
          <td class="md" valign="top"><b>(&nbsp;</b></td>
          <td class="md" nowrap valign="top"><b><a class="el" href="classoaShape.html">oaShape</a> *</b>&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>&nbsp;<b> <em>shape</em>          </td>
          <td class="md" valign="top"><b>)&nbsp;<b></td>
          <td class="md" nowrap><b> const</b></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
This function returns the occShape associated with the specified shape in a design hierarchy. If the occShape does not exist, one will be generated and returned.
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign=top><em>shape</em>&nbsp;</td><td>The shape from which the occShape will be generated. </td></tr>
  </table>
</dl>
    </td>
  </tr>
</table>
<a name="a2" doxytag="oaShapeQuery::getPurposeNum"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> <b><a class="el" href="../tech/oaTechDBTypes_8h.html#a7">oaPurposeNum</a> oaShapeQuery::getPurposeNum</b> </td>
          <td class="md" valign="top"><b>(&nbsp;</b></td>
          <td class="mdname1" valign="top" nowrap>&nbsp;          </td>
          <td class="md" valign="top"><b>)&nbsp;<b></td>
          <td class="md" nowrap><b> const</b></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
This function returns the purpose number associated with this shape query.     </td>
  </tr>
</table>
<a name="a4" doxytag="oaShapeQuery::query"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> <b>void oaShapeQuery::query</b> </td>
          <td class="md" valign="top"><b>(&nbsp;</b></td>
          <td class="md" nowrap valign="top"><b><a class="el" href="classoaDesign.html">oaDesign</a> *</b>&nbsp;</td>
          <td class="mdname" nowrap>&nbsp;<b> <em>topDesign</em>, </b></td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap><b><a class="el" href="../tech/oaTechDBTypes_8h.html#a6">oaLayerNum</a></b>&nbsp;</td>
          <td class="mdname" nowrap>&nbsp;<b> <em>layerNum</em>, </b></td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap><b><a class="el" href="../tech/oaTechDBTypes_8h.html#a7">oaPurposeNum</a></b>&nbsp;</td>
          <td class="mdname" nowrap>&nbsp;<b> <em>purposeNum</em>, </b></td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap><b>const <a class="el" href="../base/classoaBox.html">oaBox</a> &amp;</b>&nbsp;</td>
          <td class="mdname" nowrap>&nbsp;<b> <em>region</em>, </b></td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap><b>const <a class="el" href="../base/classoaTransform.html">oaTransform</a> &amp;</b>&nbsp;</td>
          <td class="mdname" nowrap>&nbsp;<b> <em>xform</em>, </b></td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap><b><a class="el" href="../base/oaBaseTypes_8h.html#a29">oaDist</a></b>&nbsp;</td>
          <td class="mdname" nowrap>&nbsp;<b> <em>filterSize</em> = 0, </b></td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap><b><a class="el" href="../common/oaCommonTypes_8h.html#a15">oaUInt4</a></b>&nbsp;</td>
          <td class="mdname" nowrap>&nbsp;<b> <em>startLevel</em> = 0, </b></td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap><b><a class="el" href="../common/oaCommonTypes_8h.html#a15">oaUInt4</a></b>&nbsp;</td>
          <td class="mdname" nowrap>&nbsp;<b> <em>stopLevel</em> = 100</td>
        </tr>
        <tr>
          <td></td>
          <td class="md"><b> )&nbsp;</b></td>
          <td class="md" colspan="2"><b></b></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
This function begins the query process to start generating shapes on the specified layer/purpose in the specified region of the specified design hierarchy.
<p>
A valid layer number and purpose number must be provided to the shape query, and the query produces all shapes in the design hierarchy on that layer and purpose. If there isn't an <a class="el" href="classoaLPPHeader.html">oaLPPHeader</a> corresponding to the specified layer and purpose numbers, the query does not produces any shapes.
<p>
The top block of any given design will have an LPPHeader for every LPPHeader that exists in the block of every bound, instantiated design in its hierarchy. In order to produce all layer/purpose shapes of interest in a design, the application can get a collection of oaLPPHeaders in the top block, then for each LPPHeader in the collection the application can use the oaShapeQuery class to query the shapes for the layerNum and purposeNum from that LPPHeader.
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign=top><em>topDesign</em>&nbsp;</td><td>Pointer to the top design in which to perform the query.</td></tr>
    <tr><td valign=top><em>layerNum</em>&nbsp;</td><td>Only query objects with this layer number.</td></tr>
    <tr><td valign=top><em>purposeNum</em>&nbsp;</td><td>Only query objects with this purpose number. Note that oavPurposeNumberNo and oavPurposeNumberAny are only to be used in constraints and are not valid arguments here.</td></tr>
    <tr><td valign=top><em>region</em>&nbsp;</td><td>The region of interest.</td></tr>
    <tr><td valign=top><em>xform</em>&nbsp;</td><td>The current transform that is applied to the design.</td></tr>
    <tr><td valign=top><em>filterSize</em>&nbsp;</td><td>Only query objects whose size is equal to or larger than filterSize.</td></tr>
    <tr><td valign=top><em>startLevel</em>&nbsp;</td><td>The level of block hierarchy to start the querying.</td></tr>
    <tr><td valign=top><em>stopLevel</em>&nbsp;</td><td>The level of block hierarchy to stop the querying. </td></tr>
  </table>
</dl>
    </td>
  </tr>
</table>
<a name="a3" doxytag="oaShapeQuery::query"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> <b>void oaShapeQuery::query</b> </td>
          <td class="md" valign="top"><b>(&nbsp;</b></td>
          <td class="md" nowrap valign="top"><b><a class="el" href="classoaDesign.html">oaDesign</a> *</b>&nbsp;</td>
          <td class="mdname" nowrap>&nbsp;<b> <em>topDesign</em>, </b></td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap><b><a class="el" href="../tech/oaTechDBTypes_8h.html#a6">oaLayerNum</a></b>&nbsp;</td>
          <td class="mdname" nowrap>&nbsp;<b> <em>layerNum</em>, </b></td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap><b><a class="el" href="../tech/oaTechDBTypes_8h.html#a7">oaPurposeNum</a></b>&nbsp;</td>
          <td class="mdname" nowrap>&nbsp;<b> <em>purposeNum</em>, </b></td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap><b>const <a class="el" href="../base/classoaBox.html">oaBox</a> &amp;</b>&nbsp;</td>
          <td class="mdname" nowrap>&nbsp;<b> <em>region</em>, </b></td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap><b><a class="el" href="../base/oaBaseTypes_8h.html#a29">oaDist</a></b>&nbsp;</td>
          <td class="mdname" nowrap>&nbsp;<b> <em>filterSize</em> = 0, </b></td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap><b><a class="el" href="../common/oaCommonTypes_8h.html#a15">oaUInt4</a></b>&nbsp;</td>
          <td class="mdname" nowrap>&nbsp;<b> <em>startLevel</em> = 0, </b></td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap><b><a class="el" href="../common/oaCommonTypes_8h.html#a15">oaUInt4</a></b>&nbsp;</td>
          <td class="mdname" nowrap>&nbsp;<b> <em>stopLevel</em> = 100</td>
        </tr>
        <tr>
          <td></td>
          <td class="md"><b> )&nbsp;</b></td>
          <td class="md" colspan="2"><b></b></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
This function begins the query process to start generating shapes on the specified layer/purpose in the specified region of the specified design hierarchy.
<p>
A valid layer number and purpose number must be provided to the shape query, and the query produces all shapes in the design hierarchy on that layer and purpose. If there isn't an <a class="el" href="classoaLPPHeader.html">oaLPPHeader</a> corresponding to the specified layer and purpose numbers, the query does not produces any shapes.
<p>
The top block of any given design will have an LPPHeader for every LPPHeader that exists in the block of every bound, instantiated design in its hierarchy. In order to produce all layer/purpose shapes of interest in a design, the application can get a collection of oaLPPHeaders in the top block, then for each LPPHeader in the collection the application can use the oaShapeQuery class to query the shapes for the layerNum and purposeNum from that LPPHeader.
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign=top><em>topDesign</em>&nbsp;</td><td>Pointer to the top design in which to perform the query.</td></tr>
    <tr><td valign=top><em>layerNum</em>&nbsp;</td><td>Only query objects with this layer number.</td></tr>
    <tr><td valign=top><em>purposeNum</em>&nbsp;</td><td>Only query objects with this purpose number. Note that oavPurposeNumberNo and oavPurposeNumberAny are only to be used in constraints and are not valid arguments here.</td></tr>
    <tr><td valign=top><em>region</em>&nbsp;</td><td>The region of interest.</td></tr>
    <tr><td valign=top><em>filterSize</em>&nbsp;</td><td>Only query objects whose size is equal to or larger than filterSize.</td></tr>
    <tr><td valign=top><em>startLevel</em>&nbsp;</td><td>The level of block hierarchy to start the querying.</td></tr>
    <tr><td valign=top><em>stopLevel</em>&nbsp;</td><td>The level of block hierarchy to stop the querying. </td></tr>
  </table>
</dl>
    </td>
  </tr>
</table>
<a name="a6" doxytag="oaShapeQuery::queryShape"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> <b>void oaShapeQuery::queryShape</b> </td>
          <td class="md" valign="top"><b>(&nbsp;</b></td>
          <td class="md" nowrap valign="top"><b><a class="el" href="classoaShape.html">oaShape</a> *</b>&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>&nbsp;<b> <em>shape</em>          </td>
          <td class="md" valign="top"><b>)&nbsp;<b></td>
          <td class="md" nowrap><b></b><code><b> [pure virtual]</b></code></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
This function processes each result of the shape query.
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign=top><em>shape</em>&nbsp;</td><td>Pointer to a shape found during querying. </td></tr>
  </table>
</dl>
    </td>
  </tr>
</table>
<hr>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="oaRegionQuery_8h-source.html">oaRegionQuery.h</a><li><a class="el" href="oaRegionQuery_8dox.html">oaRegionQuery.dox</a></ul>
<p class="noprint"><a href="#pagetop">Return to top of page</a></p>
<div style="text-align:center">
<br /><img src='../oafooter.gif'><br />

</div>
<br />
<p class='copyright'><a href="../base/titlecopy.html">Copyright &#169; 2002 - 2010 Cadence Design Systems, Inc.</a>
<br />
All Rights Reserved.</p>
</body>
</html>
