<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/html40/loose.dtd">

<!-- start header -->

<html><head>

<title>OpenAccess 2.2 API</title>

<link href="../style.css" rel="stylesheet" type="text/css">

<link href="../tabs.css" rel="stylesheet" type="text/css">

<link href="../print.css" rel="stylesheet" type="text/css" media="print">

</head>

<body bgColor='#ffffff'><a name='pagetop'></a>

<div id="navigation">

<table border='0' cellpadding='0' cellspacing='0' width = "760">

  <tr>

    <td><img src="../oaheader.gif" alt="../oaheader.gif"></td>

  </tr>

</table>

<table border='0' cellpadding='0' cellspacing='0' width = "760">

  <tr>

    <td width = "95" height = "30"><a href="../index.html"><img src='../topics.gif' alt='../topics.gif' width = "95" height = "30" border="0" align="top"></a></td>

    <td width = "95" height = "30"><a href="../classes.html"><img src='../classes_all.gif' alt='../classes.gif' width = "95" height = "30" border="0"></a></td>

    <td width = "95" height = "30"><a href="../classes_sel.html"><img src='../classes_sel.gif' alt='../classes.gif' width = "95" height = "30" border="0"></a></td>

    <td width = "95" height = "30" ><a href="../exceptionsByName.html"><img src='../exceptions.gif' alt='../exceptions.gif' border="0" ></a></td>

    <td width = "95" height = "30"><a href="../guide/index.html"><img src='../progguide.gif' alt='../progguide.gif' width = "95" height = "30" border="0"></a></td>

    <td width = "95" height = "30"><a href="../schema/schematoc.html"><img src='../infomodel.gif' alt='../infomodel.gif' width = "95" height = "30" border="0"></a></td>

    <td width = "95" height = "30"><a href="../doc_index.html"><img src='../index.gif' alt='../index.gif' width = "95" height = "30" border="0"></a></td>

    <td width = "95" height = "30"><a href="../help.html"><img src='../help.gif' alt='../help.gif' border="0" ></a></td>

  </tr>

  <tr>

    <td width = "95" height = "20"></td>

    <td width = "95" height = "20"></td>

    <td width = "95" height = "20"></td>

    <td width = "95" height = "20"></td>

    <td width = "95" height = "20"></td>

    <td width = "95" height = "20"></td>

    <td width = "95" height = "20"></td>

    <td width = "95" height = "20"></td>

  </tr>

</table>

</div>

<p>

<!-- end header -->

<!-- Generated by Doxygen 1.3-rc2 -->
<h1>oaHashSet.h</h1><a href="oaHashSet_8h.html">Go to the documentation of this file.</a><div class="fragment"><pre>00001 <span class="comment">// *****************************************************************************</span>
00002 <span class="comment">// *****************************************************************************</span>
00003 <span class="comment">// oaHashSet.h</span>
00004 <span class="comment">//</span>
00005 <span class="comment">// This file contains the definitions of the oaHashSet class. This class</span>
00006 <span class="comment">// implements a hash set, optimized according to the size of the key type. If</span>
00007 <span class="comment">// the key is no larger than an oaUInt4, then the oaHashSet stores the keys</span>
00008 <span class="comment">// directly in an underlying oaHashTbl. If the key is larger than this, then</span>
00009 <span class="comment">// the keys are stored in a separate array and indices into that array are</span>
00010 <span class="comment">// stored in the underlying oaHashTbl. (This saves the space that would</span>
00011 <span class="comment">// otherwise be consumed by a lot of empty key slots.)</span>
00012 <span class="comment">//</span>
00013 <span class="comment">//  oaHashSet</span>
00014 <span class="comment">//      This class implements a base class that can be used for all types of</span>
00015 <span class="comment">//      hash sets. It is used by deriving from it for a particular key type</span>
00016 <span class="comment">//      and then overriding the virtual functions hash() and compare() for</span>
00017 <span class="comment">//      that particular key type.</span>
00018 <span class="comment">//</span>
00019 <span class="comment">//  oaHashSetIter</span>
00020 <span class="comment">//      This class implements an iterator over all objects in a hash set.</span>
00021 <span class="comment">//</span>
00022 <span class="comment">// The following classes are private implementation classes used by the public</span>
00023 <span class="comment">// classes described above.</span>
00024 <span class="comment">//</span>
00025 <span class="comment">//  oaHashSetTbl</span>
00026 <span class="comment">//      This class implements a hash table that stores indices into a separate</span>
00027 <span class="comment">//      array of keys that is stored in a separate, owning class.</span>
00028 <span class="comment">//</span>
00029 <span class="comment">//  oaKeySizedHashSet</span>
00030 <span class="comment">//      This class implements the hash set, with two separate templatized</span>
00031 <span class="comment">//      implementations based on whether they is is larger than an oaUInt4.</span>
00032 <span class="comment">//</span>
00033 <span class="comment">// *****************************************************************************</span>
00034 <span class="comment">// Except as specified in the OpenAccess terms of use of Cadence or Silicon</span>
00035 <span class="comment">// Integration Initiative, this material may not be copied, modified,</span>
00036 <span class="comment">// re-published, uploaded, executed, or distributed in any way, in any medium,</span>
00037 <span class="comment">// in whole or in part, without prior written permission from Cadence.</span>
00038 <span class="comment">//</span>
00039 <span class="comment">//                Copyright 2002-2005 Cadence Design Systems, Inc.</span>
00040 <span class="comment">//                           All Rights Reserved.</span>
00041 <span class="comment">//</span>
00042 <span class="comment">//  $Author: icftcm $</span>
00043 <span class="comment">//  $Revision: #1 $</span>
00044 <span class="comment">//  $Date: 2010/08/09 $</span>
00045 <span class="comment">//  $State: Exp $</span>
00046 <span class="comment">// *****************************************************************************</span>
00047 <span class="comment">// *****************************************************************************</span>
00048 
00049 
00050 
00051 <span class="preprocessor">#if !defined(oaHashSet_P)</span>
<a name="l00052"></a><a class="code" href="oaHashSet_8h.html#a0">00052</a> <span class="preprocessor"></span><span class="preprocessor">#define oaHashSet_P</span>
00053 <span class="preprocessor"></span>
00054 
00055 
00056 <span class="comment">// *****************************************************************************</span>
00057 <span class="comment">// Nested includes</span>
00058 <span class="comment">// *****************************************************************************</span>
00059 <span class="preprocessor">#include "<a class="code" href="oaArray_8h.html">oaArray.h</a>"</span>
00060 <span class="preprocessor">#include "<a class="code" href="oaHashTbl_8h.html">oaHashTbl.h</a>"</span>
00061 
00062 
00063 
00064 <span class="comment">// *****************************************************************************</span>
00065 <span class="comment">// Declare and define types in the OpenAccess namespace.</span>
00066 <span class="comment">// *****************************************************************************</span>
00067 BEGIN_OA_NAMESPACE
00068 
00069 
00070 
00071 <span class="comment">// *****************************************************************************</span>
00072 <span class="comment">// Forward declarations.</span>
00073 <span class="comment">// *****************************************************************************</span>
00074 <span class="keyword">template</span>&lt;<span class="keyword">class</span> K, <span class="keywordtype">bool</span> KeyIsSmall&gt;
<a name="l00075"></a><a class="code" href="oaHashSet_8h.html#a1">00075</a> <span class="keyword">class </span><a class="code" href="oaHashSet_8h.html#a1">oaKeySizedHashSet</a>;
00076 <span class="keyword">template</span>&lt;<span class="keyword">class</span> K, <span class="keywordtype">bool</span> KeyIsSmall&gt;
00077 <span class="keyword">class </span>oaKeySizedHashSetIter;
00078 
00079 
00080 
00081 <span class="comment">// *****************************************************************************</span>
00082 <span class="comment">// oaHashSetTbl</span>
00083 <span class="comment">//</span>
00084 <span class="comment">// This class implements a hash table that stores indices into an array of keys</span>
00085 <span class="comment">// that is stored in an owning class.</span>
00086 <span class="comment">// *****************************************************************************</span>
00087 <span class="keyword">template</span>&lt;<span class="keyword">class</span> K&gt;
<a name="l00088"></a><a class="code" href="classoaHashSetTbl.html">00088</a> <span class="keyword">class </span><a class="code" href="classoaHashSetTbl.html">oaHashSetTbl</a> : <span class="keyword">public</span> <a class="code" href="classoaHashTbl.html">oaHashTbl</a>&lt;oaUInt4&gt; {
00089 <span class="keyword">protected</span>:
00090                                 <a class="code" href="classoaHashSetTbl.html#b0">oaHashSetTbl</a>(oaUInt4 sizeIn = 32);
00091 
00092     <span class="keyword">virtual</span> <span class="keywordtype">void</span>                <a class="code" href="classoaHashSetTbl.html#b1">hash</a>(oaUInt4    index,
00093                                      oaUInt4    &amp;start,
00094                                      oaUInt4    &amp;stride) <span class="keyword">const</span>;
00095     <span class="keyword">virtual</span> oaBoolean           <a class="code" href="classoaHashSetTbl.html#b2">compare</a>(oaUInt4     index,
00096                                         <span class="keyword">const</span> <span class="keywordtype">void</span>  *data) <span class="keyword">const</span>;
00097 
00098     <span class="keywordtype">void</span>                        <a class="code" href="classoaHashSetTbl.html#b3">setOwner</a>(oaKeySizedHashSet&lt;K, false&gt; *ownerIn);
00099 
00100     oaKeySizedHashSet&lt;K, false&gt; *owner;
00101 
<a name="l00102"></a><a class="code" href="classoaHashSetTbl.html#l0">00102</a>     <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="oaHashSet_8h.html#a1">oaKeySizedHashSet</a>&lt;K, false&gt;;
00103 };
00104 
00105 
00106 
00107 <span class="comment">// *****************************************************************************</span>
00108 <span class="comment">// oaKeySizedHashSet&lt;K, false&gt;</span>
00109 <span class="comment">//</span>
00110 <span class="comment">// This class implements the hash set for key types larger than 4 bytes.</span>
00111 <span class="comment">// *****************************************************************************</span>
00112 <span class="keyword">template</span>&lt;<span class="keyword">class</span> K&gt;
<a name="l00113"></a><a class="code" href="classoaKeySizedHashSet_3_01K_00_01false_01_4.html">00113</a> <span class="keyword">class </span><a class="code" href="oaHashSet_8h.html#a1">oaKeySizedHashSet</a>&lt;K, false&gt; {
00114 <span class="keyword">public</span>:
00115     <span class="keywordtype">void</span>                    add(<span class="keyword">const</span> K &amp;key);
00116     oaBoolean               find(<span class="keyword">const</span> K &amp;key) <span class="keyword">const</span>;
00117     <span class="keywordtype">void</span>                    remove(<span class="keyword">const</span> K &amp;key);
00118 
00119     oaUInt4                 getNumEntries() <span class="keyword">const</span>;
00120 
00121 <span class="keyword">protected</span>:
00122                             <a class="code" href="oaHashSet_8h.html#a1">oaKeySizedHashSet</a>(oaUInt4 sizeIn = 32);
00123 
00124     <span class="keyword">virtual</span> <span class="keywordtype">void</span>            hash(K          key,
00125                                  oaUInt4    &amp;start,
00126                                  oaUInt4    &amp;stride) <span class="keyword">const</span> = 0;
00127     <span class="keyword">virtual</span> oaBoolean       compare(K   key1,
00128                                     K   key2) <span class="keyword">const</span> = 0;
00129 
00130     <span class="keywordtype">void</span>                    hashIndex(oaUInt4   index,
00131                                       oaUInt4   &amp;start,
00132                                       oaUInt4   &amp;stride) <span class="keyword">const</span>;
00133     oaBoolean               compareIndex(oaUInt4    index,
00134                                          <span class="keyword">const</span> K    &amp;key) <span class="keyword">const</span>;
00135 
00136     <span class="keyword">const</span> <a class="code" href="classoaHashSetTbl.html">oaHashSetTbl&lt;K&gt;</a>   *getHashTbl() <span class="keyword">const</span>;
00137 
00138     <a class="code" href="classoaHashSetTbl.html">oaHashSetTbl&lt;K&gt;</a>         tbl;
00139 
00140 <span class="keyword">private</span>:
00141     <a class="code" href="classoaArray.html">oaArray&lt;K&gt;</a>              keys;
00142 
<a name="l00143"></a><a class="code" href="classoaKeySizedHashSet_3_01K_00_01false_01_4.html#l0">00143</a>     <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="classoaHashSetTbl.html">oaHashSetTbl</a>&lt;K&gt;;
<a name="l00144"></a><a class="code" href="classoaKeySizedHashSet_3_01K_00_01false_01_4.html#l1">00144</a>     <span class="keyword">friend</span> <span class="keyword">class </span>oaKeySizedHashSetIter&lt;K, false&gt;;
00145 };
00146 
00147 
00148 
00149 <span class="comment">// *****************************************************************************</span>
00150 <span class="comment">// oaKeySizedHashSetIter&lt;K, false&gt;</span>
00151 <span class="comment">//</span>
00152 <span class="comment">// This class definition defines the hash set iterator for keys larger than</span>
00153 <span class="comment">// 4 bytes.</span>
00154 <span class="comment">// *****************************************************************************</span>
00155 <span class="keyword">template</span>&lt;<span class="keyword">class</span> K&gt;
<a name="l00156"></a><a class="code" href="classoaKeySizedHashSetIter_3_01K_00_01false_01_4.html">00156</a> <span class="keyword">class </span>oaKeySizedHashSetIter&lt;K, false&gt; {
00157 <span class="keyword">public</span>:
00158                                 oaKeySizedHashSetIter(oaKeySizedHashSet&lt;K, false&gt; &amp;setIn);
00159 
00160     <span class="keywordtype">void</span>                        reset();
00161 
00162     oaBoolean                   getNext(K &amp;key);
00163 
00164 <span class="keyword">protected</span>:
00165     oaKeySizedHashSet&lt;K, false&gt; *set;
00166     oaUInt4                     index;
00167 };
00168 
00169 
00170 
00171 <span class="comment">// *****************************************************************************</span>
00172 <span class="comment">// oaKeySizedHashSet&lt;K, true&gt;</span>
00173 <span class="comment">//</span>
00174 <span class="comment">// This class implements the hash set for key types 4 bytes in size or smaller.</span>
00175 <span class="comment">// *****************************************************************************</span>
00176 <span class="keyword">template</span>&lt;<span class="keyword">class</span> K&gt;
<a name="l00177"></a><a class="code" href="classoaKeySizedHashSet_3_01K_00_01true_01_4.html">00177</a> <span class="keyword">class </span><a class="code" href="oaHashSet_8h.html#a1">oaKeySizedHashSet</a>&lt;K, true&gt; : <span class="keyword">public</span> <a class="code" href="classoaHashTbl.html">oaHashTbl</a>&lt;K&gt; {
00178 <span class="keyword">public</span>:
00179                             <a class="code" href="oaHashSet_8h.html#a1">oaKeySizedHashSet</a>(oaUInt4 sizeIn = 32);
00180 
00181     oaBoolean               <a class="code" href="classoaHashTbl.html#b2">find</a>(<span class="keyword">const</span> K &amp;key) <span class="keyword">const</span>;
00182 
00183 <span class="keyword">protected</span>:
00184     <span class="keyword">virtual</span> oaBoolean       <a class="code" href="classoaHashTbl.html#b6">compare</a>(K           key,
00185                                     <span class="keyword">const</span> <span class="keywordtype">void</span>  *data) <span class="keyword">const</span>;
00186     <span class="keyword">virtual</span> oaBoolean       <a class="code" href="classoaHashTbl.html#b6">compare</a>(K   key1,
00187                                     K   key2) <span class="keyword">const</span> = 0;
00188 
00189     <a class="code" href="classoaHashTbl.html">oaHashTbl&lt;K&gt;</a>            *getHashTbl() <span class="keyword">const</span>;
00190 
<a name="l00191"></a><a class="code" href="classoaKeySizedHashSet_3_01K_00_01true_01_4.html#l0">00191</a>     <span class="keyword">friend</span> <span class="keyword">class </span>oaKeySizedHashSetIter&lt;K, true&gt;;
00192 };
00193 
00194 
00195 
00196 <span class="comment">// *****************************************************************************</span>
00197 <span class="comment">// oaKeySizedHashSetIter&lt;K, true&gt;</span>
00198 <span class="comment">//</span>
00199 <span class="comment">// This class definition defines the hash set iterator for keys not larger than</span>
00200 <span class="comment">// 4 bytes.</span>
00201 <span class="comment">// *****************************************************************************</span>
00202 <span class="keyword">template</span>&lt;<span class="keyword">class</span> K&gt;
<a name="l00203"></a><a class="code" href="classoaKeySizedHashSetIter_3_01K_00_01true_01_4.html">00203</a> <span class="keyword">class </span>oaKeySizedHashSetIter&lt;K, true&gt; {
00204 <span class="keyword">public</span>:
00205                                 oaKeySizedHashSetIter(oaKeySizedHashSet&lt;K, true&gt; &amp;setIn);
00206 
00207     <span class="keywordtype">void</span>                        reset();
00208 
00209     oaBoolean                   getNext(K &amp;key);
00210 
00211 <span class="keyword">protected</span>:
00212     oaKeySizedHashSet&lt;K, true&gt;  &amp;set;
00213     oaUInt4                     index;
00214 };
00215 
00216 
00217 
00218 <span class="comment">// *****************************************************************************</span>
00219 <span class="comment">// oaHashSet&lt;K&gt;</span>
00220 <span class="comment">//</span>
00221 <span class="comment">// This class definition defines oaHashSet&lt;K&gt; according to one of two different</span>
00222 <span class="comment">// implementations, depending on whether K is larger than 4 bytes.</span>
00223 <span class="comment">// *****************************************************************************</span>
00224 <span class="keyword">template</span>&lt;<span class="keyword">class</span> K&gt;
00225 <span class="keyword">class </span>oaHashSet : <span class="keyword">public</span> <a class="code" href="oaHashSet_8h.html#a1">oaKeySizedHashSet</a>&lt;K, sizeof(K) &lt;= sizeof(oaUInt4)&gt; {
00226 public:
00227                             oaHashSet(oaUInt4 sizeIn = 32);
00228 };
00229 
00230 
00231 
00232 <span class="comment">// *****************************************************************************</span>
00233 <span class="comment">// Explicit template instantiations</span>
00234 <span class="comment">// *****************************************************************************</span>
00235 #if defined(OA_BASE_DLL_EXTERN)
00236 OA_BASE_DLL_EXTERN template
00237 class OA_BASE_DLL_PVT oaHashSet&lt;oaUInt4&gt;;
00238 #endif
00239 
00240 
00241 
00242 <span class="comment">// *****************************************************************************</span>
00243 <span class="comment">// oaHashSetIter&lt;K&gt;</span>
00244 <span class="comment">//</span>
00245 <span class="comment">// This class definition defines the hash set iterator according to one of two</span>
00246 <span class="comment">// different implementations, depending on whether K is larger than 4 bytes.</span>
00247 <span class="comment">// *****************************************************************************</span>
00248 template&lt;class K&gt;
00249 class oaHashSetIter : public oaKeySizedHashSetIter&lt;K, sizeof(K) &lt;= sizeof(oaUInt4)&gt; {
00250 public:
00251                             oaHashSetIter(oaHashSet&lt;K&gt; &amp;setIn);
00252 };
00253 
00254 
00255 
00256 <span class="comment">// *****************************************************************************</span>
00257 <span class="comment">// Explicit template instantiations</span>
00258 <span class="comment">// *****************************************************************************</span>
00259 #if defined(OA_BASE_DLL_EXTERN)
00260 OA_BASE_DLL_EXTERN template
00261 class OA_BASE_DLL_PVT oaHashSetIter&lt;oaUInt4&gt;;
00262 #endif
00263 
00264 
00265 
00266 END_OA_NAMESPACE
00267 
00268 #endif
</pre></div><p class="noprint"><a href="#pagetop">Return to top of page</a></p>
<div style="text-align:center">
<br /><img src='../oafooter.gif'><br />

</div>
<br />
<p class='copyright'><a href="../titlecopy.html">Copyright &#169; 2002 - 2010 Cadence Design Systems, Inc.</a>
<br />
All Rights Reserved.</p>
</body>
</html>
