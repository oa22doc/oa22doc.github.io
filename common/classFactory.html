<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/html40/loose.dtd">

<!-- start header -->

<html><head>

<title>Factory Class Reference</title>
<link href="../style.css" rel="stylesheet" type="text/css">

<link href="../tabs.css" rel="stylesheet" type="text/css">

<link href="../print.css" rel="stylesheet" type="text/css" media="print">

</head>

<body bgColor='#ffffff'><a name='pagetop'></a>

<div id="navigation">

<table border='0' cellpadding='0' cellspacing='0' width = "760">

  <tr>

    <td><img src="../oaheader.gif" alt="../oaheader.gif"></td>

  </tr>

</table>

<table border='0' cellpadding='0' cellspacing='0' width = "760">

  <tr>

    <td width = "95" height = "30"><a href="../index.html"><img src='../topics.gif' alt='../topics.gif' width = "95" height = "30" border="0" align="top"></a></td>

    <td width = "95" height = "30"><a href="../classes.html"><img src='../classes_all.gif' alt='../classes.gif' width = "95" height = "30" border="0"></a></td>

    <td width = "95" height = "30"><a href="../classes_sel.html"><img src='../classes_sel.gif' alt='../classes.gif' width = "95" height = "30" border="0"></a></td>

    <td width = "95" height = "30" ><a href="../exceptionsByName.html"><img src='../exceptions.gif' alt='../exceptions.gif' border="0" ></a></td>

    <td width = "95" height = "30"><a href="../guide/index.html"><img src='../progguide.gif' alt='../progguide.gif' width = "95" height = "30" border="0"></a></td>

    <td width = "95" height = "30"><a href="../schema/schematoc.html"><img src='../infomodel.gif' alt='../infomodel.gif' width = "95" height = "30" border="0"></a></td>

    <td width = "95" height = "30"><a href="../doc_index.html"><img src='../index.gif' alt='../index.gif' width = "95" height = "30" border="0"></a></td>

    <td width = "95" height = "30"><a href="../help.html"><img src='../help.gif' alt='../help.gif' border="0" ></a></td>

  </tr>

  <tr>

    <td width = "95" height = "20"></td>

    <td width = "95" height = "20"></td>

    <td width = "95" height = "20"></td>

    <td width = "95" height = "20"></td>

    <td width = "95" height = "20"></td>

    <td width = "95" height = "20"></td>

    <td width = "95" height = "20"></td>

    <td width = "95" height = "20"></td>

  </tr>

</table>

</div>

<p>

<!-- end header -->

<!-- Generated by Doxygen 1.3-rc2 -->
<h1>Factory Class Template Reference</h1><p>Inheritance diagram for Factory:
<p><center><img src="classFactory.png" usemap="#Factory_map" border="0" alt=""></center>
<map name="Factory_map">
<area href="classFactoryBase.html" alt="FactoryBase" shape="rect" coords="0,112,84,136">
<area href="classIFactory.html" alt="IFactory" shape="rect" coords="0,56,84,80">
<area href="classIBase.html" alt="IBase" shape="rect" coords="0,0,84,24">
</map>
<p> </p> 
<table cellspacing="0" cellpadding="1" border="0" bordercolor="#ffffff"> 
<tr bgcolor="#000099"> 
<td> <a href="classFactory-members.html"><img src="../members.gif" border="0"></a></td>
</tr>
</table>
<table border=0 cellpadding=0 cellspacing=0>
<tr><td></td></tr>
<tr><td colspan=2><br><h2>Public Methods</h2></td></tr>
<tr><td nowrap align=right valign=top>&nbsp;</td><td valign=bottom><a class="el" href="classFactory.html#a0">Factory</a> (const char *classID)</td></tr>
<tr><td nowrap align=right valign=top><a class="el" href="oaCommonTypes_8h.html#a15">oa::oaUInt4</a>&nbsp;</td><td valign=bottom><a class="el" href="classFactory.html#a1">createInstance</a> (<a class="el" href="classIBase.html">IBase</a> *reserved, const <a class="el" href="structGuid.html">Guid</a> &amp;interfaceID, void **ptr)</td></tr>
<tr><td nowrap align=right valign=top>&nbsp;</td><td valign=bottom><a class="el" href="classFactory.html#a2">~Factory</a> ()</td></tr>
</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
<h3>template&lt;class T&gt;<br>
 class Factory&lt; T &gt;</h3>

This class extends the <a class="el" href="classFactoryBase.html">FactoryBase</a> class to add an implementation of the <code><a class="el" href="classFactory.html#a1">createInstance()</a></code> function of the <code><a class="el" href="classIFactory.html">IFactory</a></code> interface. This template class is intended to be used as the factory for most implementations of OpenAccess plug-ins. The template parameter <code>T</code> is the implementation class that this factory is responsible for creating. The constructor value <code>classID</code> is the name of the plug-in. For example, a plug-in called "SamplePlug" may have an implementation class as follows:
<p>

	<PRE>
	class SamplePlug : public PlugInBase<ISampleInterface> {
	  public:
								SamplePlug();
								~SamplePlug();
		// ISampleInterface functions:
		.
		.
		.
		
	  private:
		static Factory<SamplePlug>	factory;
		.
		.
		.
	}
	</PRE>
	
	<p>with a line in the .cpp file as follows:</p>
	
	<PRE>
	Factory<SamplePlug>		SamplePlug::factory("SamplePlug");
	</PRE>
	
	<p>Note that the class name and the Plug-in name do not have to be the same as
	they do in this example.</p>
	
<p>
<hr><h2>Constructor &amp; Destructor Documentation</h2>
<a name="a0" doxytag="Factory::Factory"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" colspan="4">
<b>template&lt;class T&gt; </b></td>
        </tr>
        <tr>
          <td class="md" nowrap valign="top"> <b>Factory&lt; T &gt;::Factory</b> </td>
          <td class="md" valign="top"><b>(&nbsp;</b></td>
          <td class="md" nowrap valign="top"><b>const char *</b>&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>&nbsp;<b> <em>classID</em>          </td>
          <td class="md" valign="top"><b>)&nbsp;<b></td>
          <td class="md" nowrap><b></b></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
This is the constructor for the <code>Factory</code> class.
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign=top><em>classID</em>&nbsp;</td><td>This is the name of the plug-in. It should match the root name of the .plg file that is installed with the plug-in. </td></tr>
  </table>
</dl>
    </td>
  </tr>
</table>
<a name="a2" doxytag="Factory::~Factory"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" colspan="4">
<b>template&lt;class T&gt; </b></td>
        </tr>
        <tr>
          <td class="md" nowrap valign="top"> <b>Factory&lt; T &gt;::~Factory</b> </td>
          <td class="md" valign="top"><b>(&nbsp;</b></td>
          <td class="mdname1" valign="top" nowrap>&nbsp;          </td>
          <td class="md" valign="top"><b>)&nbsp;<b></td>
          <td class="md" nowrap><b></b></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
    </td>
  </tr>
</table>
<hr><h2>Member Function Documentation</h2>
<a name="a1" doxytag="Factory::createInstance"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" colspan="4">
<b>template&lt;class T&gt; </b></td>
        </tr>
        <tr>
          <td class="md" nowrap valign="top"> <b><a class="el" href="oaCommonTypes_8h.html#a27">uint32</a> Factory&lt; T &gt;::createInstance</b> </td>
          <td class="md" valign="top"><b>(&nbsp;</b></td>
          <td class="md" nowrap valign="top"><b><a class="el" href="classIBase.html">IBase</a> *</b>&nbsp;</td>
          <td class="mdname" nowrap>&nbsp;<b> <em>reserved</em>, </b></td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap><b>const <a class="el" href="structGuid.html">Guid</a> &amp;</b>&nbsp;</td>
          <td class="mdname" nowrap>&nbsp;<b> <em>interfaceID</em>, </b></td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap><b>void **</b>&nbsp;</td>
          <td class="mdname" nowrap>&nbsp;<b> <em>ptr</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md"><b> )&nbsp;</b></td>
          <td class="md" colspan="2"><b></b><code><b> [virtual]</b></code></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
This function creates an instance of the T class and sets the ptr argument to the interface specified by the interfaceID argument. Note that the factory increments the reference count of the object prior to returning from this call.
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign=top><em>reserved</em>&nbsp;</td><td>This parameter is reserved and should be set to <code>NULL</code>. It is used in advanced plug-in implementations to create an aggregated instance of a plug-in. (See <code>class <a class="el" href="classAgg.html">Agg</a></code> and the oaVCSample).</td></tr>
    <tr><td valign=top><em>interfaceID</em>&nbsp;</td><td>This is the id of the interface being requested from the new plug-in instance. If the plug-in doesn't implement this interface, the newly created instance will be destroyed, <code>ptr</code> will be set to <code>NULL</code>, and <code><a class="el" href="classFactory.html#a1">createInstance()</a></code> will return <code><a class="el" href="classIBase.html#s13s2">IBase::cNoInterface</a></code>.</td></tr>
    <tr><td valign=top><em>*ptr</em>&nbsp;</td><td>This parameter will be set to the pointer value of the requested interface. It is obtained from class "T" by calling <code><a class="el" href="classFactoryBase.html#a0">queryInterface()</a></code> on the newly created object. </td></tr>
  </table>
</dl>

<p>
Implements <a class="el" href="classIFactory.html#a0">IFactory</a>.    </td>
  </tr>
</table>
<hr>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="oaCommonFactory_8h-source.html">oaCommonFactory.h</a><li><a class="el" href="oaCommonFactory_8inl.html">oaCommonFactory.inl</a><li><a class="el" href="oaCommonFactory_8dox.html">oaCommonFactory.dox</a></ul>
<p class="noprint"><a href="#pagetop">Return to top of page</a></p>
<div style="text-align:center">
<br /><img src='../oafooter.gif'><br />

</div>
<br />
<p class='copyright'><a href="../base/titlecopy.html">Copyright &#169; 2002 - 2010 Cadence Design Systems, Inc.</a>
<br />
All Rights Reserved.</p>
</body>
</html>
