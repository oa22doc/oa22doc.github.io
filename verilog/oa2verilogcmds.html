<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/html40/loose.dtd">

<!-- start header -->

<html><head>

<title>OpenAccess 2.2 API</title>

<link href="../style.css" rel="stylesheet" type="text/css">

<link href="../tabs.css" rel="stylesheet" type="text/css">

<link href="../print.css" rel="stylesheet" type="text/css" media="print">

</head>

<body bgColor='#ffffff'><a name='pagetop'></a>

<div id="navigation">

<table border='0' cellpadding='0' cellspacing='0' width = "760">

  <tr>

    <td><img src="../oaheader.gif" alt="../oaheader.gif"></td>

  </tr>

</table>

<table border='0' cellpadding='0' cellspacing='0' width = "760">

  <tr>

    <td width = "95" height = "30"><a href="../index.html"><img src='../topics.gif' alt='../topics.gif' width = "95" height = "30" border="0" align="top"></a></td>

    <td width = "95" height = "30"><a href="../classes.html"><img src='../classes_all.gif' alt='../classes.gif' width = "95" height = "30" border="0"></a></td>

    <td width = "95" height = "30"><a href="../classes_sel.html"><img src='../classes_sel.gif' alt='../classes.gif' width = "95" height = "30" border="0"></a></td>

    <td width = "95" height = "30" ><a href="../exceptionsByName.html"><img src='../exceptions.gif' alt='../exceptions.gif' border="0" ></a></td>

    <td width = "95" height = "30"><a href="../guide/index.html"><img src='../progguide.gif' alt='../progguide.gif' width = "95" height = "30" border="0"></a></td>

    <td width = "95" height = "30"><a href="../schema/schematoc.html"><img src='../infomodel.gif' alt='../infomodel.gif' width = "95" height = "30" border="0"></a></td>

    <td width = "95" height = "30"><a href="../doc_index.html"><img src='../index.gif' alt='../index.gif' width = "95" height = "30" border="0"></a></td>

    <td width = "95" height = "30"><a href="../help.html"><img src='../help.gif' alt='../help.gif' border="0" ></a></td>

  </tr>

  <tr>

    <td width = "95" height = "20"></td>

    <td width = "95" height = "20"></td>

    <td width = "95" height = "20"></td>

    <td width = "95" height = "20"></td>

    <td width = "95" height = "20"></td>

    <td width = "95" height = "20"></td>

    <td width = "95" height = "20"></td>

    <td width = "95" height = "20"></td>

  </tr>

</table>

</div>

<p>

<!-- end header -->

                <h1>OpenAccess to Verilog Translator (oa2verilog)</h1>
                <hr>
                <h2><a name="cmd">Overview</a></h2>
                <p> You can translate information from the OpenAccess database to Verilog using the <code>oa2verilog</code> command-line executable.</p>
                <p><strong>Command Syntax </strong></p>
<p> Enter:</p>
<pre>
oa2verilog -lib <em>library</em> -cell <em>cell</em> -view <em>view</em>
</pre>
<p><strong>Note:</strong> Currently, you must execute the <code>oa2verilog</code> command in the directory containing the library.  </p>
<p>The <code>oa2verilog</code> command traverses all the modules in the input library, cell, and view and produces a Verilog netlist for each module. By default, the netlist is written to a file named after the input cell name in the current working directory. The translator creates a unique module definition for each pcell submaster, so that each instantiation of that submaster can reference the appropriate module definition.</p>

<p>See <a href="../verilogmap/oa2verilogmap.html">OpenAccess to Verilog Mapping</a> for details about how OpenAccess  database objects map to structural Verilog statements and constructs.</p>
<p>Use the <code>-help</code> or <code>-h</code> argument to display command-line help. The command-line arguments are described in the following table.</p>
<table border="1" cellpadding="4">
<tr bgcolor="#ccccdd">
<th colspan="2" align="left">Required Arguments </th>
</tr>
<tr>
<td width="147" valign="top">-lib <em>library</em> </td>
<td width="827" valign="top"><p>Specifies the input library name. For information about how the translator finds a library  using the library definitions file, see <a href="../guide/usinglibs.html">How Translators Use Libraries</a>.</p></td>
</tr>
<tr>
<td valign="top">-cell <em>cell</em></td>
<td valign="top"><p>Specifies the input cell name. </p></td>
</tr>
<tr bgcolor="#FFFFFF">
<td valign="top">-verilog <em>file</em></td>
<td valign="top">Specifies the name of the Verilog file to create. You can provide a filename or a file/path name. 
</td>
</tr>
<tr>
<td valign="top">-view <em>view</em> </td>
<td valign="top"><p>Specifies the input view name. </p></td>
</tr>
<tr bgcolor="#eeffcc">
<td colspan="2" valign="top"><strong>Optional Arguments</strong></td>
</tr>
<tr bgcolor="#FFFFFF">
<td valign="top">-excludeLeaf</td>
<td valign="top"><p>Specifies that leaf Verilog module definitions are not generated. This option cannot be used if the <code>leafFile</code> option is used. <br>
By default, <code>oa2verilog</code> outputs a Verilog module definition for each leaf cell. </p></td>
</tr>
<tr bgcolor="#FFFFFF">
<td valign="top">-globals <em>modName</em></td>
<td valign="top"><p>Specifies the name of the module in which to define global nets, if any exist. <br>
The default is <code>globals</code>. </p></td>
</tr>
<tr bgcolor="#FFFFFF">
<td valign="top">-help | -h</td>
<td valign="top"><p>Prints command-line help.</p></td>
</tr>
<tr bgcolor="#FFFFFF">
<td valign="top">-leafFile <em>fileName</em></td>
<td valign="top">By default, Verilog module definitions for leaf cells are written to the file specified with the <code>output</code> option.&nbsp; If you supply the <code>leafFile</code> option, the leaf module definitions are written to the given file name instead.&nbsp; </td>
</tr>
<tr bgcolor="#ffffff">
<td valign="top">-libDefFile <em>filename</em></td>
<td valign="top">Specifies the lib.defs file to load. The path to the lib.defs file can be a full or relative path. If this option is omitted, the default search mechanism of the DM system is used to find and load the lib.defs file.</td>
</tr>
<tr bgcolor="#ffffff">
<td valign="top">-literal</td>
<td valign="top">Writes module interfaces literally. Using this option does not preserver the original interface.</td>
</tr>
<tr bgcolor="#FFFFFF">
<td valign="top">-logFile <em>file</em></td>
<td valign="top">Specifies the log filename. If this option is omitted, the log filename defaults to oa2verilog.</td>
</tr>
<tr bgcolor="#ffffff">
<td valign="top">-noInfo <em>msgIds</em></td>
<td valign="top">Suppresses the specified INFO messages. <em>msgIds</em> is a quoted, space separated list of numbers. Each number in the list represents the numerical portion of the ID for the message you want to suppress. None of the numbers in the list may be zero. Suppressed messages do not appear on the terminal or in the log file.</td>
</tr>
<tr bgcolor="#ffffff">
<td valign="top">-noStopping</td>
<td valign="top">Writes module definitions for all module and design instance masters in the hierarchy. This option implies <em>-recursive</em> and cannot be used with <em>-excludeLeaf</em> or <em>-leafFile</em>.</td>
</tr>
<tr bgcolor="#ffffff">
<td valign="top">-noWarning <em>msgIds</em></td>
<td valign="top">Suppresses the specified WARNING messages. <em>msgIds</em> is a quoted, space separated list of numbers. Each number in the list represents the numerical portion of the ID for the message you want to suppress. None of the numbers in the list may be zero. Suppressed messages do not appear on the terminal or in the log file and are not included in the total of WARNING messages displayed in the summary. You can browse the <a href="VerilogMsgs.html">list of error and warning messages</a> to determine which you want to suppress.</td>
</tr>
<tr bgcolor="#FFFFFF">
<td valign="top">-recursive</td>
<td valign="top">Writes a Verilog description of every module in the given design's module hierarchy and in the top level module of every instantiated design.<br>
By default, only the top module is translated.</p></td>
</tr>
<tr bgcolor="#FFFFFF">
<td valign="top">-tieLow <em>net</em></td>
<td valign="top">Specifies the name of the tie low net. The specified net must be a global net marked as either oacGroundSigType or oacTieLoSigType. The default tie low net name is tie0. An asterisk (*) may be specified instead of a net name.  If an asterisk is specified, all global nets that are marked as oacTieLoSigType or as oacGroundSigType are mapped to 1'b0.<br>

<br>Nets that are equivalent to the tie low net produce assign statements to <code>1'b0</code>. Instances with instTerms tied to one of these nets produce module instantiations with <code>1'b0</code> as the connecting net in the list of port connections. If a bus is tied to a bundle that is comprised of the tie low and tie high nets, the connection will be to a constant of the form <code>'b10001010011101...</code> where bundle members of the tie low net become zeros and bundle members of the tie high net become ones. For example, if net <code>"tie0,2*tie1,tie0"</code> is connected to terminal <code>"a[3:0]"</code> of instance <code>"I1"</code>, the module instantiation in the output Verilog file is <code>"I1(.a('b0110)…)"</code> <br>
 
</td>
</tr>
<tr bgcolor="#FFFFFF">
<td valign="top">-tieHigh <em>net</em></td>
<td valign="top">Specifies the name of the tie high net. The specified net must be a global net marked as either oacPowerSigType or oacTieHiSigType. The default tie high net is tie1. An asterisk (*) can be specified  instead of a net name.  If an asterisk is specified, all global nets that are marked as oacTieHiSigType or oacPowerSigType are mapped to 1'b1.</p>

<p>Nets that are equivalent to the tie high net produce assign statements to <code>1'b1</code>. Instances whose instTerms are tied to one of these nets produce module instantiations with <code>1'b1</code> as the connecting net in the list of port connections. If a bus is tied to a bundle that is comprised of the tie low and tie high nets, the connection will be to a constant of the form <code>'b10001010011101...</code> where bundle members of the tie low net become zeros and bundle members of the tie high net become ones. See <em>tieLow net</em> above for an example. <br>
 </td>
</tr>
<tr bgcolor="#FFFFFF">
<td valign="top">-templateFile <em>file</em></td>
<td valign="top"><p>Specifies a file containing arguments to <code>oa2verilog</code>. You can specify a template file instead of entering a string of arguments on the command line. </p>
<p>If you specify a template file, arguments on the command line have precedence over arguments specified in the file. So, if the same argument exists in the template file and in the command line, the translator uses the argument on the command line.</p>
<p>Specify arguments in a template file as follows:</p>
<ul>
<li> Enter arguments in the template file without a dash (-) before the argument.</li>
<li> Enter each argument and value pair on a single line.</li>
<li> Separate the argument from its value using a space or a tab.</li>
<li> Designate comment lines with a <em>#</em> sign as the first character in the line.</li>
</ul>
<p><strong>Sample Template File</strong></p>
<pre>
# oa2verilog command line arguments

logFile        myoa2verilog.log
libDefFile     myLib.defs
recursive
</pre>
</td>
</tr>

<tr bgcolor="#FFFFFF">
<td valign="top">-v</td>
<td valign="top"> Prints tool, format, and library version information.</td>
</tr>
<tr bgcolor="#FFFFFF">
<td valign="top">-version</td>
<td valign="top"> Prints tool and format version information.</td>
</tr>
</table>

<p><strong>Note</strong>: Command line arguments specifying library, cell, and view names are interpreted according to the Native name space. See <a href="../guide/namemap.html#9">Native Name Space</a> in the Name Mapping article of the Programmers Guide for details about the native name space.</p>

<h2>Handling Library Definitions File Errors</h2>
<p>If your library definitions file has errors, or any of the referenced libraries cannot be opened, an error message is generated and translation is halted. If the library is not required to complete the translation, translation proceeds without an error or warning. For more information about this behavior, see the <a href="../guide/usinglibs.html#libDefErrors">Handling Errors in lib.defs Files</a> section in the Programmers Guide chapter <em>How Translators Use Libraries</em>.</p>

<h2>Preserving the Semantic Direction of Assign Statements</h2>
<p>oa2verilog attempts to preserve the semantic direction of 
assign statements beyond simple equivalency. For example, consider the following:</p>
<pre>
module test (output A, input B, output C, input D);
  assign A = B;
  assign C = D;
  assign A = C;
endmodule
</pre>
<p>To preserve the semantics of the Verilog, the translator groups the equivalent nets into driver and reciever sets according to the following rules:</p>
<ul>
<li>If a net has an input term, it is in the driver set regardless of any other connections.</li>
<li>If a net does not have an input term but has an output instTerm, it is in the driver set.</li>
<li>In any other case, the net is in the reciever set.</li>
</ul> 

<p>oa2verilog generates assign statements that connect all drivers together followed by an assign statement that connects one driver to one reciever, where the reciever is on the left-hand-side. This is followed by assign statements that connect all the recievers together. Using the previous input Verilog example, oa2verilog generates:</p>
<pre>
module test (output A, input B, output C, input D);
  assign B = D;
  assign A = B;
  assign A = C;
endmodule
</pre>

<h2>How the Translator Uses Namespaces</h2>
<p>A namespace is a set of rules that define the legal characters and determine how names are interpretted. This translator uses the oaNative namespace to interpret library, cell, and view names in the command line. For example, to write a cell that will become the Verilog module with the escaped name <code>\a/b</code> use a command line with:</p>
<pre>
–cell a#2fb
</pre>
<p>Other names that refer to name-mapped OpenAccess objects, such as net and module names, use the Verilog namespace.</p>

<h2>Error and Warning Message Format</h2>

<p>Translators emit messages that report translation progress, report warnings about unusual data or conditions, or report problems with files or data that caused partial or complete translation failure. These messages are written to a log file so you can review translation status, identify error and warning conditions, and consider whether additional actions are needed.</p>

<p>OpenAccess translators use a standard message format to ensure comprehensive and consistent messaging. This message format consists of three elements, which are: message type keyword,  message prefix, and message text. </p>

<p>In addition to the three standard elements, messages can also include two optional elements. An optional filename/line number element is included, when available, to more precisely identify the source of a problem or condition within the source data file. A context string is another optional element that is included, when available, to identify the type of data object that caused the message to be emitted. The following example shows a typical error message that includes the optional filename and line number element.</p>

<pre>
    ERROR: (OALEFDEF-50004): file.lef(123): A cell was not specified. Translation was terminated. 
    You must specify a cell.
</pre>
 
<p>One benefit of this message format is that it allows you to sort, filter, and examine only those types of messages that interest you. The keyword at the start of each message is either ERROR or WARNING and is always all uppercase. The message prefix identifies the translator family and the specific message source within the translator. The message prefix is a stable value that will not change between versions even when the message text gets updated. This makes it suitable for routine sorting and filtering.</p>

<p>If you seek assistance for resolving an issue related to a translator error or warning message, be sure to retain the message type keyword (ERROR or WARNING), and retain the message prefix to identify the translator family and the message source. Also make note of the filename/line number and context information if these are included in the message.</p>

<p>&nbsp;</p>
                <p><a href="#pagetop">Return to top of page</a></p>
                <div style="text-align: center"> <img src="images/footer.gif"><br/>
	</div>
        <p class="copyright"><a href="../base/titlecopy.html">Copyright &#169; <a href="titlecopy.html">2004-2010 Cadence Design Systems, Inc.</a></a>
			<br>
			All rights reserved.</p>
		<noscript>
			<p><em class="red">This page requires JavaScript enabled.</em></p>
		</noscript>
	</body>
</html>
